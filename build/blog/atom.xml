<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id> https://777sunny777.github.io/metaTrip/metaTrip/build/blog</id>
    <title>MetaTrip Blog</title>
    <updated>2022-03-09T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog"/>
    <subtitle>MetaTrip Blog</subtitle>
    <icon> https://777sunny777.github.io/metaTrip/metaTrip/build/img/metaIcon.png</icon>
    <entry>
        <title type="html"><![CDATA[å¦‚ä½•æŒ‘é€‰é€‚åˆæŠ•èµ„çš„æŒ‡æ•°åŸºé‡‘]]></title>
        <id>funding-basic5</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/funding-basic5"/>
        <updated>2022-03-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚4]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚4</li><li>å°ç™½å­¦ä¹ ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿä»
:::</li></ul><h2>1.æ ¼é›·å„å§†ä»·å€¼æŠ•èµ„çš„3å¤§ç†è®º</h2><p>æ ¼é›·å„å§†æ˜¯å·´è²ç‰¹çš„è€å¸ˆï¼Œæœ‰ä¸¤éƒ¨è‘—ä½œã€Šè¯åˆ¸åˆ†æ Security Analysisã€‹ å’Œ ã€Šèªæ˜çš„æŠ•èµ„è€…ã€‹ã€‚
å…¶ä»·å€¼æŠ•èµ„æ ¸å¿ƒåœ¨äºâ€œä½ä¼°å€¼ä»·å€¼æŠ•èµ„+æŒ‡æ•°åŸºé‡‘â€ã€‚</p><h3>1-1.ä»·æ ¼ä¸ä»·å€¼çš„å…³ç³»</h3><p>è‚¡ç¥¨æœ‰å…¶å†…åœ¨ä»·å€¼ï¼Œè‚¡ç¥¨çš„ä»·æ ¼å›´ç»•å…¶å†…åœ¨ä»·å€¼ä¸Šä¸‹æ³¢åŠ¨ã€‚
ä¸è¿‡è™½ç„¶è‚¡ä»·åœ¨çŸ­æœŸå†…ä¼šæš´æ¶¨æš´è·Œï¼Œä½†é•¿æœŸè¡¨ç°è¿˜æ˜¯ä¼šä¸è‚¡ç¥¨çš„å†…åœ¨ä»·å€¼è¶‹äºä¸€è‡´ã€‚</p><h3>1-2.èƒ½åŠ›åœˆ</h3><p>æˆ‘ä»¬å¯¹æ‰€æŠ•èµ„çš„å“ç§éå¸¸äº†è§£ï¼Œèƒ½åˆ¤æ–­å‡ºå®ƒå¤§æ¦‚çš„å†…åœ¨ä»·å€¼æ˜¯å¤šå°‘ã€‚
æˆ‘ä»¬å¯¹å“ç§äº†è§£çš„è¶Šå¤š, å†…åŠ›åœˆä¹Ÿå°±è¶Šå¤§ï¼Œå‰ææ˜¯æˆ‘ä»¬çœŸçš„äº†è§£ã€‚</p><p>å·´è²ç‰¹çš„è§£é‡Šæ˜¯ï¼šä½ çš„èƒ½åŠ›åœˆï¼Œæœ€é‡è¦çš„ä¸æ˜¯åœˆçš„å¤§å°ï¼Œè€Œæ˜¯ä½ çŸ¥é“è‡ªå·±çš„èƒ½åŠ›åœˆçš„è¾¹ç•Œæ‰€åœ¨ã€‚</p><p>åé¢çš„ä¼°å€¼æµ‹ç®—ï¼Œè§£å†³äº†ä¸€éƒ¨åˆ†èƒ½åŠ›åœˆçš„é—®é¢˜ã€‚</p><h3>1-3.å®‰å…¨è¾¹é™…</h3><p>æˆ‘ä»¬è¦ç”¨0.4å…ƒä¹°ä»·å€¼1å…ƒçš„ä¸œè¥¿ï¼Œè¿™ä¸ªå°±æ˜¯å®‰å…¨è¾¹ç•Œçš„æ ¸å¿ƒã€‚
æˆ‘ä»¬è¦ç”¨æ¯”ä»·å€¼æ›´ä½çš„ä»·æ ¼å»ä¹°è‚¡ç¥¨ã€‚å½“ä»·æ ¼å¤§å¹…ä½äºè‚¡ç¥¨çš„å†…åœ¨ä»·å€¼çš„æ—¶å€™ï¼Œè¿™æ—¶æŠ•èµ„æ‰å…·å¤‡å®‰å…¨è¾¹ç•Œã€‚</p><h2>2.ä¼°å€¼</h2><p>æˆ‘ä»¬å¦‚ä½•çŸ¥é“åŸºé‡‘çš„ä»·æ ¼æ˜¯ä¸æ˜¯ä½äºä»·å€¼ï¼Ÿè¿™å°±éœ€è¦ä¸€äº›ä¼°å€¼æ–¹æ³•æ¥å¸®åŠ©æˆ‘ä»¬è¿›è¡Œåˆ¤æ–­ã€‚</p><h3>2-1.å¸¸è§çš„ä¼°å€¼æŒ‡æ ‡</h3><p>:::note
å¸‚ç›ˆç‡ï¼šå…¬å¸å¸‚å€¼/å…¬å¸ç›ˆåˆ©</p><ul><li>é™æ€å¸‚ç›ˆç‡ï¼šå…¬å¸ç›ˆåˆ©å–ç”¨å…¬å¸ä¸Šä¸€å¹´åº¦çš„å‡€åˆ©æ¶¦</li><li>æ»šåŠ¨å¸‚ç›ˆç‡ï¼šå–ç”¨æœ€è¿‘4ä¸ªå­£åº¦è´¢æŠ¥çš„å‡€åˆ©æ¶¦</li><li>åŠ¨æ€å¸‚ç›ˆç‡ï¼šå–ç”¨é¢„ä¼°çš„å…¬å¸ä¸‹ä¸€å­£åº¦å‡€åˆ©æ¶¦</li></ul><p>å¸‚ç›ˆç‡ååº”äº†æˆ‘ä»¬æ„¿æ„ä¸ºè·å–1å…ƒçš„å‡€åˆ©æ¶¦ä»˜å‡ºå¤šå°‘ä»£ä»·</p><p>å¸‚å€¼ä»£è¡¨äº†æˆ‘ä»¬ä¹°ä¸‹è¿™ä¸ªå…¬å¸ç†è®ºä¸Šéœ€è¦å¤šå°‘èµ„é‡‘é‡</p><p>è¿™ä¸ªæŒ‡æ ‡é€‚ç”¨äºæµé€šæ€§å¥½ï¼Œç›ˆåˆ©ç¨³å®šçš„å“ç§ã€‚
:::</p><p>:::note
ç›ˆåˆ©æ”¶ç›Šç‡ï¼šå¸‚ç›ˆç‡çš„å€’æ•°ï¼Œ ç›ˆåˆ©æ”¶ç›Šç‡é«˜ï¼Œè‚¡æ¯ç‡å°±é«˜ã€‚å¸‚ç›ˆç‡å°±ä½
:::</p><p>:::note
å¸‚å‡€ç‡ï¼šæ¯è‚¡è‚¡ä»·ä¸æ¯è‚¡å‡€èµ„äº§çš„æ¯”ç‡ï¼Œå…¬å¸å¸‚å€¼/å…¬å¸å‡€èµ„äº§</p><p>å‡€èµ„äº§å°±æ˜¯èµ„äº§å‡å»è´Ÿå€º
:::</p><p>:::note
è‚¡æ¯ç‡ï¼šè¿‡å»ä¸€å¹´å…¬å¸çš„ç°é‡‘åˆ†çº¢/å…¬å¸çš„å¸‚å€¼ï¼Œéšç€è‚¡ä»·æ³¢åŠ¨ï¼Œè‚¡ä»·è¶Šä½ï¼Œè‚¡æ¯ç‡è¶Šé«˜</p><p>åˆ†çº¢ç‡ï¼ˆæ´¾æ¯ç‡ï¼‰ï¼šè¿‡å»ä¸€å¹´å…¬å¸çš„ç°é‡‘åˆ†çº¢/å…¬å¸çš„æ€»å‡€åˆ©æ¶¦ï¼Œä¸€èˆ¬æ˜¯å…¬å¸é¢„å…ˆè®¾ç½®å¥½ï¼Œå¤šå¹´ä¸å˜
:::</p><h3>2-2.æŸ¥è¯¢æŒ‡æ•°ä¼°è®¡çš„æ–¹å¼</h3><p>å…¬ä¼—å·ï¼šå®šæŠ•åå¹´èµšåå€</p><p>æŒ‡æ•°å®˜ç½‘æŸ¥è¯¢ï¼šä¸­è¯æŒ‡æ•°å®˜ç½‘å¯æŸ¥</p><p>è¿˜æœ‰å°±æ˜¯æ”¶è´¹çš„é‡‘èç»ˆç«¯ï¼Œä¸€èˆ¬ä¸å¤ªéœ€è¦</p><h2>3.æŒ‘é€‰æŒ‡æ•°åŸºé‡‘çš„ä¸¤å¤§ç­–ç•¥</h2><h3>3-1. ç›ˆåˆ©æ”¶ç›Šç‡æ³•</h3><ul><li>å½“ç›ˆåˆ©æ”¶ç›Šç‡å¤§äº10%æ—¶ï¼Œå¼€å§‹å®šæŠ•</li><li>å½“ç›ˆåˆ©æ”¶ç›Šç‡å°äº10%æ—¶ï¼Œåœæ­¢å®šæŠ•ï¼Œåšå®šæŒæœ‰</li><li>å½“ç›ˆåˆ©æ”¶ç›Šç‡å°äº6.4%æ—¶ï¼Œåˆ†æ‰¹å–å‡ºæŒ‡æ•°åŸºé‡‘ï¼Œæ¢æˆå…¶ä»–å“ç§ï¼Œåˆ†æ‰¹å–å‡ºé£é™©æ›´ä½</li></ul><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç›ˆåˆ©æ”¶ç›Šç‡å˜åŒ–ä¸å¤§ï¼Œæ”¶ç›Šå¤§æ¦‚åœ¨ï¼ˆ15% -- 20%ï¼‰</p><p>å±€é™æ€§ï¼šåªé€‚ç”¨äºç›ˆåˆ©ç¨³å®šçš„ä»·å€¼æŒ‡æ•°ï¼Œä¸Šè¯çº¢åˆ©ï¼Œä¸­è¯çº¢åˆ©ï¼Œä¸Šè¯50ï¼ŒåŸºæœ¬é¢50ï¼Œä¸Šè¯50AHä¼˜é€‰ï¼Œå¤®è§†50ã€‚</p><h3>3-2. åšæ ¼å…¬å¼æ³•</h3><p>å…¬å¼è®¡ç®—æ¯”è¾ƒç»•ï¼Œåªè¯´ç»“è®ºï¼š</p><ul><li>åœ¨è‚¡æ¯ç‡é«˜çš„æ—¶å€™ä¹°å…¥</li><li>åœ¨å¸‚ç›ˆç‡å¤„äºå†å²è¾ƒä½ä½ç½®æ—¶ä¹°å…¥</li><li>ä¹°å…¥åè€å¿ƒç­‰å¾…â€œå‡å€¼å›å½’â€ï¼Œå³å¸‚ç›ˆç‡ä»ä½åˆ°é«˜ã€‚</li></ul>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[useEffectï¼Œyou really know it?]]></title>
        <id>react1</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/react1"/>
        <updated>2022-03-08T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- è¿™ç¯‡blogæ˜¯å¯¹useEffectåŠç›¸å…³hooksçš„æ·±å…¥å­¦ä¹ ã€‚]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>è¿™ç¯‡blogæ˜¯å¯¹useEffectåŠç›¸å…³hooksçš„æ·±å…¥å­¦ä¹ ã€‚
:::</li></ul><p><a href="https://reactjs.org/docs/hooks-effect.html">Using the Effect Hook</a> å¯¹äºå¸¸ç”¨çš„react hooksæˆ‘ä¸€ç›´è®¤ä¸ºæ˜¯æ¯”è¾ƒäº†è§£çš„ï¼Œç„¶è€Œæœ€è¿‘çš„ä¸€æ¬¡é¡¹ç›®ç»„sharingï¼Œ
è®¨è®ºåˆ°è¿™å—ï¼Œå±…ç„¶å‘ç°è¿™ä¹ˆå¸¸ç”¨çš„hookè‡ªå·±çš„ç†è§£ç«Ÿç„¶æ˜¯æœ‰åå·®çš„ï¼Œè¿˜éœ€è¦å»æ·±å…¥çš„å­¦ä¹ ä¸€ä¸‹ã€‚è¿™ç¯‡blogç”±æ­¤è€Œæ¥ã€‚</p><h2>1. useEffect</h2><p>:::note
If youâ€™re familiar with React class lifecycle methods, you can think of useEffect Hook as componentDidMount, componentDidUpdate, and componentWillUnmount combined.</p><p>æˆ‘ä»¬å¸¸è§„çš„ç†è§£ï¼ŒuseEffectåº”è¯¥å°±æ˜¯ä¹‹å‰class componentç”Ÿå‘½å‘¨æœŸä¸­componentDidMount, componentDidUpdate, and componentWillUnmountçš„ç»“åˆ
:::</p><p>reactç»„ä»¶ä¸­æœ‰ä¸¤ç§å¸¸è§çš„side effectsï¼Œä¸€ç§éœ€è¦clearup, ä¸€ç§ä¸éœ€è¦ï¼Œå…·ä½“å¦‚ä¸‹ã€‚</p><h3>1-1. Effects Without Cleanup</h3><p>åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦è¿è¡Œé¢å¤–çš„ä»£ç åœ¨reactæ›´æ–°domç»“æ„ä¹‹åï¼Œæ¯”å¦‚ajax è¯·æ±‚ï¼Œæ‰‹åŠ¨æ›´æ”¹domç»“æ„ï¼Œåè€…loggingçš„æ—¶å€™ã€‚
è¿™äº›æƒ…å†µæ˜¯ä¸éœ€è¦cleanupçš„ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><pre><code class="language-jsx">class Example extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      count: 0
    };
  }

  componentDidMount() {
    document.title = `You clicked ${this.state.count} times`;
  }
  componentDidUpdate() {
    document.title = `You clicked ${this.state.count} times`;
  }

  render() {
    return (
      &lt;div&gt;
        &lt;p&gt;You clicked {this.state.count} times&lt;/p&gt;
        &lt;button onClick={() =&gt; this.setState({ count: this.state.count + 1 })}&gt;
          Click me
        &lt;/button&gt;
      &lt;/div&gt;
    );
  }
}
</code></pre><p>ç”¨class componentæ¥å†™çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Œ componentDidMountåœ¨åˆå§‹renderçš„æ—¶å€™è§¦å‘ï¼ŒcomponentDidUpdateåœ¨æ¯æ¬¡updateçš„æ—¶å€™è§¦å‘
æ— è®ºå¦‚ä½•ä¼˜åŒ–ä»£ç ï¼Œ <strong>we have to duplicate the code between these two lifecycle methods in class</strong>ï¼Œæˆ‘æƒ³è¿™ä¹Ÿæ˜¯æˆ‘ä»¬åé¢ç”¨hooksæ¥ä»£æ›¿çš„åŸå› ä¹‹ä¸€ã€‚</p><p>å¦‚æœæˆ‘ä»¬ç”¨Hooksæ¥å†™å‘¢</p><pre><code class="language-jsx" metastring="live">function Example() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    console.log(&#x27;demo1 useEffect running&#x27;);
    document.title = `You clicked ${count} times`;
  });

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒuseEffectä¼šåœ¨ç¬¬ä¸€æ¬¡renderä»¥åŠåé¢æ¯æ¬¡updateçš„æ—¶å€™è§¦å‘ï¼Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘mountingè¿˜æ˜¯updateingã€‚
it will remember the effect we used, and then run our effect after updating the DOM. This happens for every render, including the first one.</p><h3>1-2. Effects With Cleanup</h3><p>ä¸€èˆ¬æ¯”è¾ƒå¸¸è§çš„éœ€è¦cleanupçš„ä¾‹å­ï¼Œæœ‰å»ºç«‹å–æ¶ˆå®šæ—¶å™¨ï¼Œé˜²æ­¢å†…å­˜æº¢å‡ºç­‰ç­‰ï¼Œæˆ‘ä»¬çœ‹react å®˜ç½‘class component with cleanupçš„ä¾‹å­ï¼š</p><pre><code class="language-jsx">class FriendStatus extends React.Component {
  constructor(props) {
    super(props);
    this.state = { isOnline: null };
    this.handleStatusChange = this.handleStatusChange.bind(this);
  }

  componentDidMount() {
    ChatAPI.subscribeToFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }
  componentWillUnmount() {
    ChatAPI.unsubscribeFromFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }
  handleStatusChange(status) {
    this.setState({
      isOnline: status.isOnline
    });
  }

  render() {
    if (this.state.isOnline === null) {
      return &#x27;Loading...&#x27;;
    }
    return this.state.isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;;
  }
}
</code></pre><p>å…¶ä¸­componentDidMount å’Œ componentWillUnmount æ˜¯äº’ä¸ºé•œåƒçš„ã€‚
å¦‚æœæˆ‘ä»¬ç”¨Hooksæ¥å†™å‘¢ï¼Œéœ€è¦returnä¸€ä¸ªfunctionï¼Œreactä¼šåœ¨cleanupçš„æ—¶å€™è°ƒç”¨</p><pre><code class="language-jsx" metastring="live">function FriendStatus(props) {
  const [isOnline, setIsOnline] = useState(null);

  useEffect(() =&gt; {
    function handleStatusChange(status) {
      setIsOnline(status.isOnline);
    }
    
    console.log(&#x27;demo2 useEffect running&#x27;);
    // comment since we have no ChatAPI here, just for demo
    // ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);

    // Specify how to clean up after this effect:
    // We donâ€™t have to return a named function from the effect. 
    // We called it cleanup here to clarify its purpose, but you could return an arrow function or call it something different.
    return function cleanup() {
      console.log(&#x27;demo2 cleanup running&#x27;);
      // ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
    };
  });

  return (
      &lt;&gt;
        &lt;p&gt; {isOnline ? &#x27;Online&#x27; : &#x27;Offline&#x27;} &lt;/p&gt;
        &lt;button onClick={ ()=&gt;setIsOnline(&#x27;online&#x27;) } &gt;Online&lt;/button&gt;
        &lt;button onClick={ ()=&gt;setIsOnline(null) }&gt;Offline&lt;/button&gt;
      &lt;/&gt;
  )
}
</code></pre><p>:::tip
è¯•æƒ³ï¼Œå¦‚æœæ­¤æ—¶ä½ å°è¯•ç€å»ç‚¹å‡»onlineå’Œofflineçš„buttonï¼Œé‚£ä¹ˆæ­¤æ—¶çš„returnä¼šä¸ä¼šè¢«è°ƒç”¨ï¼Ÿ</p><p>æŒ‰ç…§æ–‡æ¡£returnåº”è¯¥æ˜¯åœ¨cleanupçš„æ—¶å€™è°ƒç”¨çš„ï¼Œé‚£ä¹ˆstateå˜åŒ–äº†ï¼Œä¼šè§¦å‘cleanupä¹ˆï¼Ÿ
:::</p><p>æˆ‘å°±æ˜¯åœ¨è¿™ä¸ªåœ°æ–¹å‡ºç°ç†è§£çš„é”™è¯¯ï¼Œæˆ‘è®¤ä¸ºstateå˜åŒ–æ˜¯ä¸ä¼šè§¦å‘cleanupçš„ï¼Œåªæœ‰åœ¨domç»“æ„åˆ é™¤äº†çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ummountçš„æ—¶å€™æ‰ä¼šè§¦å‘ä¸€æ¬¡ã€‚
ä½†æ˜¯æµ‹è¯•ç»“æœå’Œæˆ‘æƒ³å¾—å®Œå…¨ä¸åŒï¼Œæ¯æ¬¡stateå˜åŒ–ï¼Œéƒ½ä¼šå…ˆè§¦å‘cleanupï¼Œç„¶ååœ¨è§¦å‘side effectã€‚</p><p>å¤§å®¶å¯ä»¥åœ¨ä¸Šé¢çš„live demoä¸­å°è¯•ï¼Œconsoleé‡Œæœ‰è®°å½•å¯æŸ¥ã€‚</p><p>ç„¶åæˆ‘æŸ¥æ‰¾æ–‡æ¡£ï¼Œå‘ç°äº†è¿™ä¹ˆä¸¤æ®µè¯ã€‚</p><p>:::tip
Why did we return a function from our effect?</p><p>This is the optional cleanup mechanism for effects. Every effect may return a function that cleans up after it.
This lets us keep the logic for adding and removing subscriptions close to each other. Theyâ€™re part of the same effect!
:::</p><p>:::tip
When exactly does React clean up an effect?</p><p>React performs the cleanup when the component unmounts. However, as we learned earlier, effects run for every render and not just once.
This is why React also cleans up effects from the previous render before running the effects next time. ï¼ˆè¿™å°±æ˜¯ä¸ºä»€ä¹ˆReactè¿˜ä¼šåœ¨ä¸‹æ¬¡è¿è¡Œæ•ˆæœä¹‹å‰æ¸…é™¤ä¸Šä¸€æ¬¡æ¸²æŸ“çš„æ•ˆæœï¼‰
Weâ€™ll discuss why this helps avoid bugs and how to opt out of this behavior in case it creates performance issues later below.
:::</p><p>ç¬¬ä¸€æ®µè¯å…³é”®åœ¨äºå‘Šè¯‰æˆ‘ä»¬returnæ˜¯æ¯ä¸ªeffectä¸­éƒ½å­˜åœ¨çš„æœºåˆ¶ï¼Œ<strong>ä¸ç®¡ä½ ä½¿ç”¨ä¸ä½¿ç”¨ï¼Œä»–éƒ½æ˜¯effectçš„ä¸€éƒ¨åˆ†</strong>ã€‚</p><p>ç¬¬äºŒå¥è¯å…³é”®åœ¨äºå‘Šè¯‰æˆ‘ä»¬<strong>å› ä¸ºeffectæ˜¯å¤šæ¬¡è¿è¡Œçš„ï¼Œæ‰€ä»¥returné‡Œçš„cleanupä¹Ÿæ˜¯å¤šæ¬¡è¿è¡Œçš„</strong>ï¼Œè¿™æ ·åšæ˜¯æœ‰åŸå› çš„ï¼š1.é¿å…bugs. 2.å¯ä»¥æœ‰é€€å‡ºæœºåˆ¶ã€‚</p><h2>2. Tips for Using Effects</h2><h3>2-1. Tip: Use Multiple Effects to Separate Concerns</h3><p>Hooks let us split the code based on what it is doing rather than a lifecycle method name.
ä¸åŒçš„é€»è¾‘åˆ†åœ¨ä¸åŒçš„useEffecté‡Œé¢ï¼Œæ˜¯å¾—é€»è¾‘ç»“æ„æ›´æ¸…æ™°ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯é€‰æ‹©hooksçš„åŸå› ä¹‹äºŒã€‚</p><pre><code class="language-jsx">function FriendStatusWithCounter(props) {
  const [count, setCount] = useState(0);
  useEffect(() =&gt; {
    document.title = `You clicked ${count} times`;
  });

  const [isOnline, setIsOnline] = useState(null);
  useEffect(() =&gt; {
    function handleStatusChange(status) {
      setIsOnline(status.isOnline);
    }

    ChatAPI.subscribeToFriendStatus(props.friend.id, handleStatusChange);
    return () =&gt; {
      ChatAPI.unsubscribeFromFriendStatus(props.friend.id, handleStatusChange);
    };
  });
  // ...
}
</code></pre><p>:::tip
Explanation: Why Effects Run on Each Update?</p><p>If youâ€™re used to classes, you might be wondering why the effect cleanup phase happens after every re-render,
and not just once during unmounting. Letâ€™s look at a practical example to see why this design helps us create components with fewer bugs.</p><p>ä¹‹å‰çš„è¯¯è§£åŸå› ä½¿ç”¨class componentçš„åé—ç—‡ï¼Œeffectçš„æœºåˆ¶æ˜¯cleanupæ¯æ¬¡éƒ½ä¼šè§¦å‘ï¼Œreactè¿™æ ·è®¾è®¡çš„åŸå› æ˜¯ä¸ºäº†å‡å°‘bugs</p><p>This behavior ensures consistency by default and prevents bugs that are common in class components due to <strong>missing update logic</strong>.
:::</p><p>å®˜æ–¹çš„ä¾‹å­æ˜¯å…³äºå¥½å‹åœ¨çº¿çŠ¶æ€çš„ï¼Œåœ¨propsæ›´æ–°çš„æƒ…å†µä¸‹ï¼Œå¥½å‹Aå¯èƒ½è¢«å¥½å‹Bæ›¿ä»£ï¼Œä½†æ˜¯å¦‚ä¸‹çš„ä¾‹å­å°±ä¼šæ˜¾ç¤ºå¥½å‹Båœ¨çº¿ï¼Œä½†æ˜¯Bå¯èƒ½ä¸åœ¨çº¿ã€‚</p><pre><code class="language-jsx">  componentDidMount() {
    ChatAPI.subscribeToFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }

  componentWillUnmount() {
    ChatAPI.unsubscribeFromFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }
</code></pre><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡compoentDidUpdateè¿›è¡Œè§£å†³ï¼Œåˆ¤æ–­propså˜åŒ–äº†ä¹‹åï¼Œå…³æ‰å‰ä¸€ä¸ªå¥½å‹Açš„é“¾æ¥ï¼Œé‡æ–°å»ºç«‹æ–°å¥½å‹Bçš„é“¾æ¥ï¼Œè€Œç°å®ä¸­æˆ‘ä»¬å¯èƒ½ç»å¸¸å¿˜äº†æ·»åŠ è¿™ä¸ªé€»è¾‘ã€‚
æ‰€ä»¥ç”¨useEffectï¼Œæ¯æ¬¡éƒ½ä¼šcleanupå‰ä¸€æ¬¡çš„è®°å½•ï¼Œç„¶åé‡æ–°å¼€å§‹effect updateã€‚</p><pre><code class="language-jsx">  componentDidMount() {
    ChatAPI.subscribeToFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }

  componentDidUpdate(prevProps) {
    // Unsubscribe from the previous friend.id
    ChatAPI.unsubscribeFromFriendStatus(
      prevProps.friend.id,
      this.handleStatusChange
    );
    // Subscribe to the next friend.id
    ChatAPI.subscribeToFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }

  componentWillUnmount() {
    ChatAPI.unsubscribeFromFriendStatus(
      this.props.friend.id,
      this.handleStatusChange
    );
  }

</code></pre><h3>2-2. Tip: Optimizing Performance by Skipping Effects</h3><p>In some cases, cleaning up or applying the effect after every render might create a performance problem.
In class components, we can solve this by writing an extra comparison with prevProps or prevState inside componentDidUpdate</p><pre><code class="language-jsx">componentDidUpdate(prevProps, prevState) {
  if (prevState.count !== this.state.count) {
    document.title = `You clicked ${this.state.count} times`;
  }
}
</code></pre><p>åœ¨hooksä¸­å¦‚ä½•å¤„ç†å‘¢ï¼š</p><pre><code class="language-jsx" metastring="live">function Example() {
  const [count, setCount] = useState(0);
  const [count2, setCount2] = useState(100);

  useEffect(() =&gt; {
    console.log(&#x27;demo3 useEffect running&#x27;);
    document.title = `You clicked ${count} times`;
    
    return () =&gt; {
      console.log(&#x27;demo3 cleanup running&#x27;);
    };
  }, [count]);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times, click {count2} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me +
      &lt;/button&gt;
      &lt;button onClick={() =&gt; setCount2(count2 - 1)}&gt;
        Click me -
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre><p>è¿™ä¸ªä¾‹å­å‘Šè¯‰æˆ‘ä»¬ï¼ŒuseEffectåªæ¥å—count å˜åŒ–çš„caseï¼Œå¯¹count2å˜åŒ–æ˜¯ä¸å¤„ç†çš„ã€‚å½“ç„¶cleanupä¹Ÿæ˜¯ä¼šå¤„ç†æ¯æ¬¡countçš„æ›´æ–°ã€‚è€Œä¸æ˜¯æ¥å—æ‰€æœ‰çš„propsæ›´æ–°ã€‚
<strong>ä¹Ÿå°±æ˜¯é€šè¿‡é€‰æ‹©ç›‘æ§çš„propsï¼Œè¿‡æ»¤æ‰å¤šä½™renderçš„è§¦å‘ã€‚</strong></p><h3>2-3. Others</h3><p>:::tip
If you use this optimization, make sure the array includes all values from the component scope (such as props and state)
that change over time and that are used by the effect. </p><p>Otherwise, your code will reference stale values from previous renders.
:::</p><p>:::tip
If you want to run an effect and clean it up only once (on mount and unmount), you can pass an empty array ([]) as a second argument.
This tells React that your effect doesnâ€™t depend on any values from props or state, so it never needs to re-run.</p><p>If you pass an empty array ([]), the props and state inside the effect will always have their initial values.
While passing [] as the second argument is closer to the familiar componentDidMount and componentWillUnmount mental model,</p><p>Also, donâ€™t forget that React defers running useEffect until after the browser has painted, so doing extra work is less of a problem.
:::</p><h2>3. useLayoutEffect</h2><p>The signature is identical to useEffect, but it fires synchronously after all DOM mutations.
Use this to read layout from the DOM and synchronously re-render. Updates scheduled inside useLayoutEffect will be flushed synchronously,
before the browser has a chance to paint.</p><p>æˆ‘ç›®å‰çš„ç†è§£ï¼ŒuseEffectæ˜¯å¼‚æ­¥çš„ï¼Œåœ¨æµè§ˆå™¨æ¸²æŸ“å®Œæˆä¹‹åè¿›è¡Œã€‚è€ŒuseLayoutEffectæ˜¯åŒæ­¥çš„ï¼Œåœ¨æµè§ˆå™¨æ¸²æŸ“å‰æ›´æ–°ï¼Œæ˜¯blockæµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹çš„ã€‚</p><p>useLayoutEffect æ— è®ºä»£ç å…ˆåéƒ½æ˜¯åœ¨useEffectå‰æ‰§è¡Œçš„ã€‚</p><pre><code class="language-jsx" metastring="live">function Example() {
  const [count, setCount] = useState(0);

  useEffect(() =&gt; {
    console.log(&#x27;demo4 useEffect after render&#x27;);
    document.title = `You clicked ${count} times`;
    
    return ()=&gt;{
        console.log(&#x27;demo4 cleanup running&#x27;);
    }
  });

  useLayoutEffect(() =&gt; {
    console.log(&#x27;demo4 useLayoutEffect running&#x27;);

    return ()=&gt;{
        console.log(&#x27;demo4 useLayoutEffect cleanup running&#x27;);
    }
  });

  console.log(&#x27;demo4 update DOM&#x27;);

  return (
    &lt;div&gt;
      &lt;p&gt;You clicked {count} times&lt;/p&gt;
      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;
        Click me
      &lt;/button&gt;
    &lt;/div&gt;
  );
}
</code></pre><p>:::tip
useEffect æ˜¯å¼‚æ­¥éé˜»å¡è°ƒç”¨</p><p>useLayoutEffect æ˜¯åŒæ­¥é˜»å¡è°ƒç”¨</p><p>useEffect æµè§ˆå™¨ç»˜åˆ¶å</p><p>useLayoutEffect åœ¨ DOM å˜æ›´ï¼ˆReact çš„æ›´æ–°ï¼‰åï¼Œæµè§ˆå™¨ç»˜åˆ¶å‰å®Œæˆæ‰€æœ‰æ“ä½œ
:::</p><p>0ï¼Œ7ï¼Œä¹‹åæš‚åœ1ç§’ï¼Œå‡ºç°5ï¼Œè¯´æ˜layoutEffecté˜»å¡äº†useEffectã€‚</p><pre><code class="language-jsx" metastring="live">function FuncCom () {
    const [counter, setCounter] = useState(0);

    useEffect(() =&gt; {
        if (counter === 2) {
            setCounter(5)
        }
    });

    useLayoutEffect(() =&gt; {
        if (counter === 7) {
            setTimeout(()=&gt;{
                setCounter(2)
            }, 1000);
        }
    });

    return (
        &lt;div style={{fontSize: &#x27;40px&#x27;}}&gt;
            &lt;button onClick={() =&gt; setCounter(7)}&gt;{counter}&lt;/button&gt;
        &lt;/div&gt;
    )
}
</code></pre>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[Micro FrontEnd Basic]]></title>
        <id>microFE1</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/microFE1"/>
        <updated>2022-01-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- è¿™æ˜¯æˆ‘å¯¹äºMFEæ¯”è¾ƒç³»ç»Ÿå­¦ä¹ è®°å½•çš„é¦–ç¯‡blog]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>è¿™æ˜¯æˆ‘å¯¹äºMFEæ¯”è¾ƒç³»ç»Ÿå­¦ä¹ è®°å½•çš„é¦–ç¯‡blog </li><li>ä¸»è¦å‚è€ƒçš„Cam Jacksonçš„æ–‡ç« <a href="https://martinfowler.com/articles/micro-frontends.html">Micro Frontends</a>
:::</li></ul><p>Cam Jackson æ˜¯Thoughtworksçš„å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œè¿™ç¯‡æ–‡ç« è™½ç„¶å‡ºè‡ª2019å¹´ï¼Œä½†æ˜¯å¯¹äºMFEæ¦‚å¿µçš„åˆå­¦è€…è¿˜æ˜¯å‹å¥½çš„ï¼Œå¯ä»¥æ¯”è¾ƒå®¹æ˜“çš„ç†è§£ã€‚
ç›¸åº”çš„æ–‡ç« æœ€åè¿˜æä¾›äº†MEFçš„example, æŒ‰ç…§æ–‡ç« é¡ºåºå»å­¦ä¹ ï¼Œåº”è¯¥å¯ä»¥å¾ˆå¿«å…¥é—¨ã€‚æˆ‘çš„è¿™ç¯‡blogï¼Œç®—æ˜¯å¯¹ä»–çš„æ–‡ç« å’Œæˆ‘ä¸€ç‚¹ç»éªŒçš„æ€»ç»“ï¼Œ
æˆ‘ä»¬ç›´æ¥æ­¥å…¥æ­£é¢˜ã€‚</p><h2>1. Micro Frontends</h2><p>&quot;An architectural style where independently deliverable frontend applications are composed into a greater whole&quot;</p><p>è¿™æ˜¯Cam Jackson æˆ–è€…è¯´æ˜¯Thoughtworkså¯¹MFEçš„å®šä¹‰ã€‚æˆ‘ä»¬ä»ä¸­å¯ä»¥æå–åˆ°ä¸¤ä¸ªé‡ç‚¹ï¼š</p><ul><li>independently deliverable. ç‹¬ç«‹äº¤ä»˜</li><li>composed into a greater whole. ç»„åˆæ„æˆæ•´ä½“</li></ul><h3>1-1. MFE cost</h3><p>å› ä¸ºåé¢æˆ‘ä»¬è¦è¯¦ç»†è§£è¯»ä¸‹MFEçš„Benefitsï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦æ˜¯å…ˆå°†ä¸€ä¸‹ä»–çš„costï¼š</p><p>:::note
there are no free lunches when it comes to software architecture - everything comes with a cost.</p><ul><li>Some micro frontend implementations can lead to duplication of dependencies</li><li>increasing the number of bytes our users must download</li><li>the dramatic increase in team autonomy can cause fragmentation in the way your teams work</li></ul><p>Nonetheless, we believe that these risks can be managed, and that the benefits of micro frontends often outweigh the costs
:::</p><p>æ€»ä½“æ¥è¯´ï¼ŒMFEå¯èƒ½ä¼šå¯¼è‡´ä¾èµ–é‡å¤ï¼Œå¢åŠ äº†éœ€è¦downloadçš„assetï¼Œè¿˜æœ‰å°±æ˜¯ç‹¬ç«‹å›¢é˜Ÿå·¥ä½œæ–¹å¼ä¸Šçš„ä¸€äº›æŒ‘æˆ˜ã€‚å¯¹äºç»“è®ºThoughtworksè®¤ä¸ºæ€»ä½“ä¸ŠMFEè¿˜æ˜¯åˆ©å¤§äºå¼Šçš„ã€‚
æˆ‘ä»¬æ¥ä¸‹æ¥è¯´è¯´Benefitsã€‚</p><h2>2. Benefits</h2><h3>2-1. Incremental upgrades(å¢é‡å‡çº§)</h3><p>The endgame here is that we&#x27;re afforded more freedom to make case-by-case decisions on individual parts of our product,
and to make incremental upgrades to our architecture, our dependencies, and our user experience.
If there is a major breaking change in our main framework, each micro frontend can be upgraded whenever it makes sense,
rather than being forced to stop the world and upgrade everything at once. If we want to experiment with new technology,
or new modes of interaction, we can do it in a more isolated fashion than we could before.</p><p>å¥½å¤„ä¹‹ä¸€å°±æ˜¯MFEçš„å­æ¨¡å—å‡çº§æ˜¯è‡ªä¸»çš„ï¼Œå¹¶ä¸”ä¸ä¸»æ¨¡å—è§£è€¦ï¼Œå³ä¸»æ¨¡å—æœ‰è¿‡æœ‰äº›å¤§çš„major breaking changesï¼Œå­æ¨¡å—ä¹Ÿä¸éœ€è¦å’Œä¸»æ¨¡å—åŒæ­¥è¿›è¡Œä¿®æ”¹å’Œå‡çº§ã€‚
è€Œæ˜¯å¯ä»¥é€‰æ‹©ä¸€ä¸ªè‡ªèº«åˆé€‚çš„æ—¶æœºæ¥è¿›è¡Œå‡çº§ã€‚</p><p>:::tip
è¿™é‡Œé¢æˆ‘çš„ç†è§£æ˜¯ï¼šä¸»æ¨¡å—çš„ä»¥æ¥è¿˜æ˜¯ä¼šdefaultå½±å“MFEçš„å­æ¨¡å—çš„ï¼Œä½†æ˜¯å­æ¨¡å—è‡ªèº«å¯ä»¥é€‰æ‹©è¦ä¸è¦è¿™ç§å½±å“ï¼Œå³ä¾èµ–ä¸»æ¨¡å—çš„ä¾èµ–ï¼Œ
æˆ–è€…å…³é—­ä¸»æ¨¡å—ä¾èµ–è€Œåªé€‰æ‹©è‡ªèº«çš„ä¾èµ–ï¼Œè¿™æ ·å°±æ¯”è¾ƒçµæ´»å’Œè‡ªä¸»äº†ã€‚è¿™æ¡æˆ‘ä¼šåœ¨åé¢è¿›è¡Œç›¸åº”çš„å°è¯ã€‚
:::</p><h3>2-2. Simple, decoupled codebases(ç®€å•ï¼Œè§£è€¦)</h3><p>These smaller codebases tend to be simpler and easier for developers to work with.
In particular, we avoid the complexity arising from unintentional and inappropriate coupling between components
that should not know about each other. </p><p>micro frontends push you to be explicit and deliberate about how data and events flow
between different parts of the application, which is something that we should have been doing anyway!</p><p>MFEä¸€å®šæ˜¯å°è€Œç²¾çš„ï¼Œå°½é‡å‡å°‘ç»„ä»¶é—´æ•°æ®æˆ–äº‹ä»¶ä¼ è¾“ï¼Œè¿™ä¸€ç‚¹éœ€è¦æˆ‘ä»¬æ·±å…¥çš„æ€è€ƒã€‚</p><h3>2-3. Independent deployment(ç‹¬ç«‹éƒ¨ç½²)</h3><p>Just as with microservices, independent deployability of micro frontends is key.
This reduces the scope of any given deployment, which in turn reduces the associated risk.
Regardless of how or where your frontend code is hosted, each micro frontend should have
its own continuous delivery pipeline, which builds, tests and deploys it all the way to production.
We should be able to deploy each micro frontend with very little thought given to the current state of
other codebases or pipelines. It shouldn&#x27;t matter if the old monolith is on a fixed, manual,
quarterly release cycle, or if the team next door has pushed a half-finished or broken feature into their master branch.
If a given micro frontend is ready to go to production, it should be able to do so, and that decision
should be up to the team who build and maintain it.</p><p>MFEæ˜¯éœ€è¦å¯¹ç«‹è¿›è¡Œbuildï¼Œtestå’Œdeployåˆ°productionçš„ï¼Œè¿™ä¸ªä¹Ÿæ˜¯å…¶ä¸»è¦ç‰¹å¾ä¹‹ä¸€ï¼Œä¹Ÿæ˜¯ä¸€èˆ¬é¡¹ç›®è¿›è¡ŒMFEæ¶æ„é‡æ„çš„ä¸»è¦ç›®çš„ã€‚</p><img src="/metaTrip/build/img/blog/deployment.png" alt="" style="width:100%"/><h3>2-4. Autonomous teams(è‡ªæ²»å›¢é˜Ÿ)</h3><p>Teams can have full ownership of everything they need to deliver value to customers,
which enables them to move quickly and effectively</p><p>ä¾èµ–è¶Šå°‘ï¼Œå“åº”è¶Šçµæ´»ã€‚è¿™ä¸ªå’Œç¬¬ä¸‰æ¡æ¯”è¾ƒç›¸è¾…ç›¸æˆã€‚</p><img src="/metaTrip/build/img/blog/horizontal.png" alt="" style="width:100%"/><h2>3. Integration approaches</h2><p>:::note
there is a micro frontend for each page in the application, and there is a single container application, which:</p><ul><li>renders common page elements such as headers and footers</li><li>addresses cross-cutting concerns like authentication and navigation</li><li>brings the various micro frontends together onto the page, and tells each micro frontend when and where to render itself
:::</li></ul><img src="/metaTrip/build/img/blog/composition.png" alt="" style="width:100%"/><h3>3-1. Server-side template composition</h3><p>rendering HTML on the server out of multiple templates or fragments.
We have an index.html which contains any common page elements,
and then uses server-side includes to plug in page-specific content from fragment HTML files</p><pre><code class="language-jsx">&lt;html lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;Feed me&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;ğŸ½ Feed me&lt;/h1&gt;
    &lt;!--# include file=&quot;$PAGE.html&quot; --&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><pre><code class="language-jsx">server {
    listen 8080;
    server_name localhost;

    root /usr/share/nginx/html;
    index index.html;
    ssi on;

    # Redirect / to /browse
    rewrite ^/$ http://localhost:8080/browse redirect;

    # Decide which HTML fragment to insert based on the URL
    location /browse {
      set $PAGE &#x27;browse&#x27;;
    }
    location /order {
      set $PAGE &#x27;order&#x27;;
    }
    location /profile {
      set $PAGE &#x27;profile&#x27;
    }

    # All locations should render through index.html
    error_page 404 /index.html;
}
</code></pre><p>This example shows how micro frontends is not necessarily a new technique,
and does not have to be complicated.
As long as we&#x27;re careful about how our design decisions affect the autonomy of our codebases and our teams, we can achieve many of the same benefits regardless of our tech stack.</p><p>å®é™…ä¸Šè¿™ä¸ªä¾‹å­åªæ˜¯è¦å‘Šè¯‰æˆ‘ä»¬ï¼ŒMFEæ˜¯ä¸€ç§æ€æƒ³ï¼Œå¹¶ä¸æ˜¯ä¸€ä¸ªæ–°çš„æŠ€æœ¯ï¼Œæˆ–è€…éœ€è¦æ–°çš„æŠ€æœ¯æ‰å¯ä»¥å®ç°ã€‚
åªè¦æ»¡è¶³ç‹¬ç«‹äº¤ä»˜ï¼Œç»„åˆæ„æˆæ•´ä½“éƒ½åº”è¯¥æ˜¯MFEçš„èŒƒç•´ã€‚</p><h3>3-2. Build-time integration</h3><p>One approach that we sometimes see is to publish each micro frontend as a package,
and have the container application include them all as library dependencies.
Here is how the container&#x27;s package.json might look for our example app:</p><pre><code class="language-jsx">{
  &quot;name&quot;: &quot;@feed-me/container&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;A food delivery web app&quot;,
  &quot;dependencies&quot;: {
    &quot;@feed-me/browse-restaurants&quot;: &quot;^1.2.3&quot;,
    &quot;@feed-me/order-food&quot;: &quot;^4.5.6&quot;,
    &quot;@feed-me/user-profile&quot;: &quot;^7.8.9&quot;
  }
}
</code></pre><p>component ui library æ¡†æ¶å°±æ˜¯ä¸€ç§build-timeçš„æ¨¡å¼ã€‚ä»–çš„å¼•ç”¨æ˜¯åŸºäºpackageçš„ï¼Œä¾èµ–çš„å½¢å¼å­˜åœ¨ã€‚
å¾ˆå¤šå¤§çš„é¡¹ç›®ä¹Ÿæ˜¯è¿™ç§å‡çš„MFEå¼€å‘æ–¹å¼ã€‚</p><p>At first this seems to make sense. It produces a single deployable Javascript bundle,
as is usual, allowing us to de-duplicate common dependencies from our various applications.
However, this approach means that we have to re-compile and release every single micro frontend
in order to release a change to any individual part of the product. Just as with microservices,
we&#x27;ve seen enough pain caused by such a lockstep release process that we would recommend
strongly against this kind of approach to micro frontends.</p><p>è¿™ç§æ–¹å¼çš„ä¸åˆç†ä¹‹å¤„å°±åœ¨äºcompileå’Œreleaseéƒ½éœ€è¦åŒæ­¥è¿›è¡Œï¼Œè¿™ä¸ªå’ŒMFEç‹¬ç«‹äº¤ä»˜çš„æ¦‚å¿µæ˜¯ç»å¯¹ç›¸åçš„ï¼Œæ˜¯åMFEçš„ä¸€ç§æ–¹å¼ã€‚
We should find a way to integrate our micro frontends at run-time, rather than at build-time.</p><h3>3-3. Run-time integration via iframes</h3><p>One of the simplest approaches to composing applications together in the browser is the humble iframe.
By their nature, iframes make it easy to build a page out of independent sub-pages.
They also offer a good degree of isolation in terms of styling and global variables not interfering with each other.</p><pre><code class="language-jsx">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Feed me!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to Feed me!&lt;/h1&gt;

    &lt;iframe id=&quot;micro-frontend-container&quot;&gt;&lt;/iframe&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
      const microFrontendsByRoute = {
        &#x27;/&#x27;: &#x27;https://browse.example.com/index.html&#x27;,
        &#x27;/order-food&#x27;: &#x27;https://order.example.com/index.html&#x27;,
        &#x27;/user-profile&#x27;: &#x27;https://profile.example.com/index.html&#x27;,
      };

      const iframe = document.getElementById(&#x27;micro-frontend-container&#x27;);
      iframe.src = microFrontendsByRoute[window.location.pathname];
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>It can be difficult to build integrations between different parts of the application,
so they make routing, history, and deep-linking more complicated,
and they present some extra challenges to making your page fully responsive.</p><p>iframesè§‰å¾—æ˜¯MFEæœ€ç®€å•çš„å®ç°æ–¹å¼ï¼Œæˆ‘ä»¬ä¸»è¦è€ƒè™‘åˆ°çµæ´»æ€§çš„ä¸€äº›é—®é¢˜è€Œä¸å»é‡‡ç”¨å®ƒã€‚æ¯”å¦‚responsiveçš„å®ç°å°±å¾ˆå›°éš¾ã€‚</p><h3>3-4. Run-time integration via JavaScript(ä¸»è¦å®ç°æ–¹å¼)</h3><p>probably the most flexible one, and the one that we see teams adopting most frequently.
Each micro frontend is included onto the page using a <strong>script</strong> tag, and upon load exposes a global function as its entry-point.
The container application then determines which micro frontend should be mounted,
and calls the relevant function to tell a micro frontend when and where to render itself.</p><pre><code class="language-jsx">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Feed me!&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;Welcome to Feed me!&lt;/h1&gt;

    &lt;!-- These scripts don&#x27;t render anything immediately --&gt;
    &lt;!-- Instead they attach entry-point functions to `window` --&gt;
    &lt;script src=&quot;https://browse.example.com/bundle.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://order.example.com/bundle.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;https://profile.example.com/bundle.js&quot;&gt;&lt;/script&gt;

    &lt;div id=&quot;micro-frontend-root&quot;&gt;&lt;/div&gt;

    &lt;script type=&quot;text/javascript&quot;&gt;
      // These global functions are attached to window by the above scripts
      const microFrontendsByRoute = {
        &#x27;/&#x27;: window.renderBrowseRestaurants,
        &#x27;/order-food&#x27;: window.renderOrderFood,
        &#x27;/user-profile&#x27;: window.renderUserProfile,
      };
      const renderFunction = microFrontendsByRoute[window.location.pathname];

      // Having determined the entry-point function, we now call it,
      // giving it the ID of the element where it should render itself
      renderFunction(&#x27;micro-frontend-root&#x27;);
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>The above is obviously a primitive example, but it demonstrates the basic technique.
Unlike with build-time integration, we can deploy each of the bundle.js files independently.
And unlike with iframes, we have full flexibility to build integrations between our micro frontends however we like.
We could extend the above code in many ways, for example to only download each JavaScript bundle as needed,
or to pass data in and out when rendering a micro frontend.The flexibility of this approach, combined with the independent
deployability, makes it our default choice, and the one that we&#x27;ve seen in the wild most often.</p><p>è¿™ç§æ–¹å¼ä¸iframeç›¸æ¯”ï¼Œå¯ä»¥è§£å†³å­æ¨¡å—é—´çš„åŒæ­¥åä½œé—®é¢˜ï¼Œæ¯”å¦‚responsiveã€‚ä¸build-timeç›¸æ¯”ï¼Œå¯ä»¥ç‹¬ç«‹äº¤ä»˜ã€‚è€Œä¸”è¿˜å¯ä»¥æŒ‰éœ€åŠ è½½ã€‚
æ‰€ä»¥æˆä¸ºäº†MFEå®ç°çš„æœ€ä¸»è¦æ–¹å¼ã€‚</p><h3>3-5. Run-time integration via Web Components</h3><p> for each micro frontend to define an HTML custom element for the container to instantiate,
instead of defining a global function for the container to call.</p><pre><code class="language-jsx">&lt;html&gt;
 &lt;head&gt;
   &lt;title&gt;Feed me!&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
   &lt;h1&gt;Welcome to Feed me!&lt;/h1&gt;

   &lt;!-- These scripts don&#x27;t render anything immediately --&gt;
   &lt;!-- Instead they each define a custom element type --&gt;
   &lt;script src=&quot;https://browse.example.com/bundle.js&quot;&gt;&lt;/script&gt;
   &lt;script src=&quot;https://order.example.com/bundle.js&quot;&gt;&lt;/script&gt;
   &lt;script src=&quot;https://profile.example.com/bundle.js&quot;&gt;&lt;/script&gt;

   &lt;div id=&quot;micro-frontend-root&quot;&gt;&lt;/div&gt;

   &lt;script type=&quot;text/javascript&quot;&gt;
     // These element types are defined by the above scripts
     const webComponentsByRoute = {
       &#x27;/&#x27;: &#x27;micro-frontend-browse-restaurants&#x27;,
       &#x27;/order-food&#x27;: &#x27;micro-frontend-order-food&#x27;,
       &#x27;/user-profile&#x27;: &#x27;micro-frontend-user-profile&#x27;,
     };
     const webComponentType = webComponentsByRoute[window.location.pathname];

     // Having determined the right web component custom element type,
     // we now create an instance of it and attach it to the document
     const root = document.getElementById(&#x27;micro-frontend-root&#x27;);
     const webComponent = document.createElement(webComponentType);
     root.appendChild(webComponent);
   &lt;/script&gt;
 &lt;/body&gt;
&lt;/html&gt;
</code></pre><p>the main difference being that you are opting in to doing things &#x27;the web component way&#x27;.
If you like the web component spec, and you like the idea of using capabilities that the browser provides,
then this is a good option. If you prefer to define your own interface between the container
application and micro frontends, then you might prefer the previous example instead.</p><p>å¦‚æœä¸éœ€è¦è€ƒè™‘IEæµè§ˆå™¨ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚</p><h2>4. Styling</h2><p>In a micro frontends landscape, many of these problems are exacerbated. For example,
if one team&#x27;s micro frontend has a stylesheet that says h2 { color: black; },
and another one says h2 { color: blue; }, and both these selectors are attached to the same page,
then someone is going to be disappointed! This is not a new problem,
but it&#x27;s made worse by the fact that these selectors were written by different teams at different times,
and the code is probably split across separate repositories, making it more difficult to discover.</p><p>:::tip
MFEä¸»è¦æ˜¯è§£å†³cssçš„æ ·å¼é‡åé—®é¢˜ï¼Œç›®å‰çš„cssæœ‰å¤šç§å†™æ³•æ¥é¿å…è¿™ä¸ªé—®é¢˜ï¼Œ BEMï¼Œsass/less, css in js.
æˆ‘ç›®å‰å¯¹è¿™ä¸ªå…·ä½“çš„è§£å†³æ–¹å¼è¿˜æœ‰å¾…ç†è§£ï¼Œåé¢æˆ‘ä¼šå»å°è¯ä¸€ä¸‹ã€‚
:::</p><h2>5. Shared component libraries</h2><p>We mentioned above that visual consistency across micro frontends is important,
and one approach to this is to develop a library of shared, re-usable UI components.
In general we believe that this a good idea, although it is difficult to do well.
The main benefits of creating such a library are reduced effort through re-use of code,
and visual consistency. In addition, your component library can serve as a living styleguide,
and it can be a great point of collaboration between developers and designers.</p><p>ç®€å•æ¥è¯´ï¼ŒMFEä¹Ÿæ˜¯éœ€è¦åŒæ„è§†è§‰UI æ ‡å‡†çš„ï¼Œè¿™è¶‹åŠ¿å°±éœ€è¦ä¸€ä¸ªcomponent ui åº“æ¥æ”¯æŒã€‚æ¯”å¦‚muiï¼Œbootstrapã€‚
æˆ–è€…æ˜¯é¡¹ç›®è‡ªå»ºï¼Œè‡ªå»ºçš„æ–¹å¼å¯ä»¥æ˜¯ä»å¤šä¸ªå­æ¨¡å—ä¸­æŠ½å–commonçš„ç»„ä»¶ã€‚è€Œä¸ç”¨day1çš„æ—¶å€™å°±æ„å»ºã€‚
ä½†æ˜¯è¿™ä¸ªcomponent ui åº“æ˜¯éœ€è¦çš„ã€‚ </p><p>:::tip
æˆ‘éœ€è¦åœ¨é¡¹ç›®ä¸­è¿›ä¸€æ­¥å°è¯ä¸€ä¸‹ã€‚æ¯”å¦‚BRPå’ŒNew UI MFEçš„å…³ç³»
:::</p><h2>6. Cross-application communication</h2><p>One of the most common questions regarding micro frontends is <strong>how to let them talk to each other</strong>.
In general, we recommend having them communicate as little as possible,
as it often reintroduces the sort of inappropriate coupling that we&#x27;re seeking to avoid in the first place.</p><p>That said, some level of cross-app communication is often needed. </p><ul><li>Custom events allow micro frontends to communicate indirectly, which is a good way to minimise direct coupling,
though it does make it harder to determine and enforce the contract that exists between micro frontends. </li><li>Alternatively, the React model of passing callbacks and data downwards (in this case downwards from the container
application to the micro frontends) is also a good solution that makes the contract more explicit. </li><li>A third alternative is to use the address bar as a communication mechanism.</li></ul><p>Whatever approach we choose, we want our micro frontends to communicate by sending messages or events to each other,
and avoid having any shared state. </p><p>Just like sharing a database across microservices, as soon as we share our data structures and domain models,
we create massive amounts of coupling, and it becomes extremely difficult to make changes.</p><p>è¿™å—æˆ‘ç°åœ¨è¿˜ç†è§£ä¸åˆ°ä½ï¼Œéœ€è¦è¿›è¡Œä¸€äº›POCï¼Œä¹‹åä¼šå¦å¤–è¯¦ç»†å†™ä¸€ç¯‡blogã€‚</p>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¸¸è§è¡Œä¸šæŒ‡æ•°åŸºé‡‘]]></title>
        <id>funding-basic4</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/funding-basic4"/>
        <updated>2022-01-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3</li><li>å°ç™½å­¦ä¹ ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿä»
:::</li></ul><h2>å¸¸è§è¡Œä¸šæŒ‡æ•°åŸºé‡‘</h2><p>æŒ‡æ•°åŸºé‡‘ä¸“é—¨æŠ•èµ„æŸä¸ªè¡Œä¸šçš„è‚¡ç¥¨ï¼Œä¹Ÿå°±æ˜¯è¡Œä¸šæŒ‡æ•°åŸºé‡‘ã€‚è¡Œä¸šæŒ‡æ•°åŸºé‡‘æŠ•èµ„é£é™©æ›´é«˜ã€‚
æœ‰æ—¶å€™å®½åŸºå€¼æŒ‡æ•°åŸºé‡‘æ²¡æœ‰å¤ªå¥½æœºä¼šçš„æ—¶å€™ï¼Œè¡Œä¸šæŒ‡æ•°åŸºé‡‘å¯¹æˆ‘ä»¬æŠ•èµ„èµ·åˆ°å¾ˆå¥½çš„è¡¥å……ä½œç”¨ã€‚</p><blockquote><p>å»ºè®®æ–°æ‰‹ä»å®½åŸºæŒ‡æ•°åŸºé‡‘å…¥é—¨ï¼Œç§¯ç´¯è¶³å¤Ÿç»éªŒä¹‹ååœ¨æŠ•èµ„è¡Œä¸šæŒ‡æ•°åŸºé‡‘ã€‚</p></blockquote><h3>10ä¸ªä¸€çº§è¡Œä¸š</h3><table><thead><tr><th>åç§°</th><th>åŒ…å«</th><th>ä¸­è¯800ä¸€çº§è¡Œä¸šæŒ‡æ•°2004~2017</th><th>ç›¸å…³æŒ‡æ•°åŠç‰¹ç‚¹</th><th>å…»è€äº§ä¸š</th></tr></thead><tbody><tr><td>ææ–™</td><td>é‡‘å±ï¼Œé‡‡çŸ¿ï¼ŒåŒ–å­¦åˆ¶å“</td><td>2.6</td><td></td><td></td></tr><tr><td>å¯é€‰æ¶ˆè´¹</td><td>æ±½è½¦ï¼Œé›¶å”®ï¼Œ åª’ä½“ï¼Œæˆ¿åœ°äº§ï¼Œå½±è§†ä¸š</td><td>4.7</td><td>éœ€æ±‚æ¯”å¿…é¡»æ¶ˆè´¹å¼±ï¼Œæœ‰ä¸€å®šå‘¨æœŸæ€§ï¼ˆæˆ¿åœ°äº§ï¼‰ã€‚ä¸­è¯å…¨æŒ‡å¯é€‰æ¶ˆè´¹æŒ‡æ•°</td><td>ä¸»è¦åŒ…æ‹¬</td></tr><tr><td>å¿…é¡»æ¶ˆè´¹ï¼ˆæ—¥å¸¸æ¶ˆè´¹ï¼Œä¸»è¦æ¶ˆè´¹ï¼‰</td><td>é£Ÿå“ï¼ŒçƒŸè‰ï¼Œå®¶å…·ï¼Œé¥®æ–™ï¼Œé…’ï¼Œå†œå‰¯é£Ÿå“</td><td>9.0</td><td>ç¨³å®šã€‚ä¸Šè¯ï¼Œä¸Šè¯80ï¼Œä¸­è¯800ï¼Œå…¨æŒ‡æ¶ˆè´¹æŒ‡æ•°</td><td>ä¸»è¦åŒ…æ‹¬</td></tr><tr><td>èƒ½æº</td><td>èƒ½æºè®¾å¤‡ä¸æœåŠ¡ï¼ŒçŸ³æ²¹å¤©ç„¶æ°”</td><td>2.0</td><td></td><td></td></tr><tr><td>é‡‘è</td><td>é“¶è¡Œï¼Œ ä¿é™©ï¼Œåˆ¸å•†</td><td>5.2</td><td>å‘¨æœŸæ€§ï¼Œæ”¿ç­–</td><td></td></tr><tr><td>åŒ»è¯</td><td>åŒ»ç–—ä¿å¥ï¼Œåˆ¶è¯ï¼Œç”Ÿç‰©ç§‘æŠ€</td><td>9.3</td><td>ç¨³å®šï¼Œä¸­è¯800åŒ»è¯ï¼Œä¸Šè¯åŒ»è¯ï¼Œç»†åˆ†åŒ»è¯ï¼Œ300/500åŒ»è¯æŒ‡æ•°ç­‰</td><td>ä¸»è¦åŒ…æ‹¬</td></tr><tr><td>å·¥ä¸š</td><td>èˆªç©ºèˆªå¤©ï¼Œè¿è¾“ï¼Œå»ºç­‘äº§å“</td><td>3</td><td></td><td></td></tr><tr><td>ä¿¡æ¯</td><td>ç¡¬ä»¶ï¼Œè½¯ä»¶ï¼Œä¿¡æ¯æŠ€æœ¯</td><td>3.5</td><td></td><td></td></tr><tr><td>ç”µä¿¡</td><td>å›ºå®šçº¿è·¯ï¼Œæ— çº¿é€šä¿¡ï¼Œç”µä¿¡ä¸šåŠ¡</td><td>4.6</td><td></td><td></td></tr><tr><td>å…¬å…±äº‹ä¸š</td><td>ç”µåŠ›ï¼Œå¤©ç„¶æ°”ï¼Œæ°´</td><td>2.4</td><td></td><td></td></tr></tbody></table><blockquote><h4>å€¼å¾—æŠ•èµ„çš„è¡Œä¸š</h4><ul><li>å¤©ç”Ÿæ›´å®¹æ˜“èµšé’±çš„è¡Œä¸š ï¼ˆæ¶ˆè´¹å’ŒåŒ»è¯è¡Œä¸šï¼‰</li><li>å…·æœ‰æ˜æ˜¾å¼ºå‘¨æœŸçš„è¡Œä¸š ï¼ˆä½ä¹°é«˜å–ï¼Œé‡‘èä¸šåœ°äº§ï¼Œèƒ½æºï¼Œéƒ¨åˆ†ææ–™è¡Œä¸šï¼‰</li></ul></blockquote><blockquote><h4>å¼€å…¬å¸å¦‚ä½•æ‰èƒ½èµšåˆ°é’± ï¼ˆèŒ…å°ï¼Œå¯å£å¯ä¹ï¼‰</h4><ul><li>å®¢æˆ·éœ€æ±‚èƒ½å¤ŸæŒç»­ç¨³å®š</li><li>äº§å“åˆ«äººæ¨¡ä»¿ä¸äº†ï¼Œä¼ä¸šæœ‰æŠ¤åŸæ²³èƒ½ä¿è¯ä¸€å®šåˆ©æ¶¦ç‡</li><li>å†æŠ•èµ„éœ€æ±‚å°ï¼Œèƒ½å¤Ÿæ´»å¾—å¤§é‡è‡ªç”±ç°é‡‘æµ</li><li>äºŒçº§å¸‚åœºè¿˜è¦ä¸€ä¸ªæ¡ä»¶ï¼šä¼ä¸šæ„¿æ„å›é¦ˆè‚¡ä¸œï¼Œè€Œä¸æ˜¯ä¹±èŠ±é’±</li></ul></blockquote><blockquote><h4>å…¶ä»–æœ‰ç‰¹å®šè¡Œä¸š</h4><ul><li>åœ°äº§è¡Œä¸šï¼Œå†›å·¥è¡Œçº¦ï¼Œç¯ä¿è¡Œä¸šï¼Œç™½é…’è¡Œä¸š</li></ul></blockquote>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¸¸è§å®½åŸºæŒ‡æ•°åŸºé‡‘(äºŒ)]]></title>
        <id>funding-basic3</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/funding-basic3"/>
        <updated>2022-01-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3</li><li>å°ç™½å­¦ä¹ ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿä»
:::</li></ul><h2>å¸¸è§å®½åŸºæŒ‡æ•°åŸºé‡‘</h2><table><thead><tr><th>åºå·</th><th>åç§°</th><th>æŒ‡æ•°ç®€ä»‹</th><th>è‚¡ç¥¨ä¸ªæ•°</th></tr></thead><tbody><tr><td>10</td><td>ä¸­è¯åŸºæœ¬é¢50æŒ‡æ•°(000925, 399925)</td><td>æŒ‰ç…§4ä¸ªåŸºæœ¬é¢æŒ‡æ ‡ï¼ŒæŒ‘é€‰ç»¼åˆæœ€å¼ºçš„50ä¸ªå…¬å¸</td><td>50</td></tr><tr><td>10</td><td>å¤®è§†è´¢ç»50æŒ‡æ•°(399550)</td><td>å¤®è§†è”åˆé«˜æ ¡ä¸“å®¶æŒ‘é€‰, å¿½ç•¥</td><td>50</td></tr><tr><td>10</td><td>æ’ç”ŸæŒ‡æ•°(HSI)</td><td>æ¸¯äº¤æ‰€, DQII ä»£è´­ï¼Œé¦™æ¸¯ä¸Šå¸‚è§„æ¨¡æœ€å¤§50å®¶</td><td>50</td></tr><tr><td>10</td><td>H è‚¡æŒ‡æ•°(æ’ç”Ÿä¸­å›½ä¼ä¸šæŒ‡æ•°)</td><td>å…¬å¸åœ¨å†…åœ°æ³¨å†Œï¼Œé¦™æ¸¯ä¸Šå¸‚å°±æ˜¯Hè‚¡ï¼ŒæŒ‘é€‰çš„æ˜¯40å®¶æœ€å¤§çš„Hè‚¡</td><td>40</td></tr><tr><td>10</td><td>ä¸Šè¯50AHä¼˜é€‰æŒ‡æ•°</td><td>27çº¯Aï¼Œ23åŒæ—¶å…·æœ‰AHå…¬å¸ä¸­ç›¸å¯¹ä¾¿å®œçš„é‚£ä¸€ç±»</td><td>50</td></tr><tr><td>10</td><td>çº³æ–¯è¾¾å…‹100æŒ‡æ•°(NDX)</td><td>ç¾å›½è‚¡å¸‚ï¼Œçº³æ–¯è¾¾å…‹æœ€å¤§100å®¶ï¼ŒDQIIä»£è´­</td><td>100</td></tr><tr><td>10</td><td>æ ‡æ™®500æŒ‡æ•°</td><td>ç±»ä¼¼å›½å†…çš„æ²ªæ·±300</td><td>300</td></tr></tbody></table><blockquote><h3>åŸºæœ¬é¢æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>å¦ä¸€ç§åŠ æƒç­–ç•¥ï¼Œ4ä¸ªç»´åº¦æ¥è¡¡é‡ï¼Œè¥ä¸šæ”¶å…¥ï¼Œç°é‡‘æµï¼Œå‡€èµ„äº§å’Œåˆ†çº¢ã€‚</li><li>å¾€å¾€ä¹Ÿéƒ½æ˜¯å¤§ç›˜è‚¡ï¼Œå’Œä¸Šè¯50æŒ‡æ•°ç›¸ä¼¼ï¼Œå•æŒ‘é€‰è‚¡ä»4ä¸ªç»´åº¦å‡ºå‘ï¼Œä¼šè€ƒè™‘æ›´å…¨é¢äº›ã€‚</li></ul></blockquote><blockquote><h3>QDII åŸºé‡‘</h3><ul><li>æŠ•èµ„äºé¦™æ¸¯ï¼Œç¾å›½ç­‰å¸‚åœºçš„åŸºé‡‘å“ç§</li><li>è¿™ç§åŸºé‡‘æˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºâ€˜ä»£è´­â€™</li><li>æœ‰æš‚åœç”³è´­ï¼Œå¯ä»¥èµå›çš„é£é™©ï¼Œå†…åœ°å¸‚åœºæš‚æ—¶ä¸æˆç†Ÿ</li></ul></blockquote><blockquote><h3>Hè‚¡æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>æœ‰é‡å¤ï¼Œä½†ä¸æ˜¯æ’ç”ŸæŒ‡æ•°</li><li>ä»¥å¢ƒå¤–æŠ•èµ„è€…ä¸ºä¸»</li><li>ä¸Aè‚¡æŒ‡æ•°æœ‰å¯†åˆ‡çš„å…³ç³»ï¼Œå¾ˆå¤šå…¬å¸åœ¨Aè‚¡å’ŒHè‚¡éƒ½æœ‰ä¸Šå¸‚ï¼Œæ¯”å¦‚Hè‚¡æŒ‡æ•°å’Œä¸Šè¯50é‡åˆåº¦é«˜ï¼Œä¸Šè¯50æ˜¯ä¸­å›½æŠ•èµ„è€…ä¸ºä¸»ï¼Œ
Hè‚¡æŒ‡æ•°æ˜¯æ¬§ç¾æŠ•èµ„è€…ä¸ºä¸»ï¼Œ ä¸¤è€…çš„æ¶¨è·Œæœ‰æ—¶å·®ï¼Œå¹¶ä¸ä¸¥æ ¼åŒæ­¥ï¼Œä½†æ˜¯é•¿æœŸè¶‹åŠ¿ä¸€è‡´ï¼Œæ‰€ä»¥ä¹°å…¥AHè‚¡ä¸­ç›¸å¯¹ä¾¿å®œçš„ï¼Œå–å‡ºè´µçš„æ˜¯å…¶ç­–ç•¥</li></ul></blockquote><table><thead><tr><th>åç§°</th><th>æè¿°</th></tr></thead><tbody><tr><td>ä¸Šè¯50æŒ‡æ•°</td><td>27çº¯Aï¼Œ23åŒæ—¶å…·æœ‰AHå…¬å¸ä¸­çš„Aè‚¡</td></tr><tr><td>50AHä¼˜é€‰æŒ‡æ•°</td><td>27çº¯Aï¼Œ23åŒæ—¶å…·æœ‰AHå…¬å¸ä¸­ç›¸å¯¹ä¾¿å®œçš„é‚£ä¸€ç±»</td></tr><tr><td>Hè‚¡æŒ‡æ•°</td><td>17çº¯Hï¼Œ23åŒæ—¶å…·æœ‰AHå…¬å¸ä¸­çš„Hè‚¡</td></tr></tbody></table>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¸¸è§å®½åŸºæŒ‡æ•°åŸºé‡‘(ä¸€)]]></title>
        <id>funding-basic2</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/funding-basic2"/>
        <updated>2022-01-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚3</li><li>å°ç™½å­¦ä¹ ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿä»
:::</li></ul><h2>æŒ‡æ•°åŸºé‡‘åˆ†ç±»</h2><p>æœ€å¸¸è§çš„åˆ†ç±»å°±æ˜¯å®½åŸºæŒ‡æ•°å’Œè¡Œä¸šæŒ‡æ•°ã€‚</p><ul><li>æŒ‡æ•°åŸºé‡‘åœ¨æŒ‘é€‰è‚¡ç¥¨çš„æ—¶å€™ï¼Œä¸é™åˆ¶æŠ•èµ„è¡Œä¸šï¼Œå°±æ˜¯<strong>å®½åŸºæŒ‡æ•°åŸºé‡‘</strong>ã€‚</li><li>æŒ‡æ•°åŸºé‡‘åœ¨æŒ‘é€‰è‚¡ç¥¨çš„æ—¶å€™ï¼Œé™åˆ¶æŠ•èµ„è¡Œä¸šï¼Œå°±æ˜¯<strong>è¡Œä¸šæŒ‡æ•°åŸºé‡‘</strong>ã€‚è¡Œä¸šæŒ‡æ•°åŸºé‡‘å—è¡Œä¸šç‰¹æ€§çš„å½±å“éå¸¸å¤§ã€‚</li></ul><p>ä»äº¤æ˜“æ¸ é“ä¸Šå¯ä»¥åˆ†ä¸ºåœºå†…æŒ‡æ•°åŸºé‡‘å’Œåœºå¤–æŒ‡æ•°åŸºé‡‘ï¼Œè¿™ä¸ªåœºæŒ‡çš„æ˜¯è¯å·äº¤æ˜“æ‰€ã€‚</p><ul><li>åœºå†…æŒ‡æ•°åŸºé‡‘åœ¨è¯å·äº¤æ˜“æ‰€ä¸Šå¸‚ï¼Œå¯ä»¥æœ‰â€˜ç”³è´­èµå›â€™å’Œâ€˜ä¹°å…¥å–å‡ºâ€™ä¸¤å¥—äº¤æ˜“ä½“ç³»ï¼Œå…¶ä¸­ä¹°å…¥å–å‡ºæ–¹å¼éœ€è¦åœ¨è¯å·äº¤æ˜“æ‰€è¿›è¡Œ</li><li>åœºå¤–åŸºé‡‘ï¼Œä¸åœ¨è¯å·äº¤æ˜“æ‰€ä¸Šå¸‚ï¼Œåªæœ‰â€˜ç”³è´­èµå›â€™ä¸€ç§</li><li>åœºå†…åŸºé‡‘ä¸»è¦æœ‰ä¸¤ç§ï¼šETFå’ŒLOFåŸºé‡‘ï¼Œè¿™ä¸¤ç§åŸºé‡‘éƒ½æœ‰å¯ä»¥åœ¨äº¤æ˜“æ‰€è¿›è¡Œè‡ªç”±ä¹°å–ï¼Œä¸åŒçš„æ˜¯ï¼ŒETFåªèƒ½é€šè¿‡è‚¡ç¥¨äº¤æ˜“è½¯ä»¶äº¤æ˜“ï¼ŒLOFé™¤æ­¤ä¹‹å¤–è¿˜å¯ä»¥åƒåœºå¤–åŸºé‡‘ä¸€æ ·é€šè¿‡â€˜ç”³è´­èµå›â€™æ–¹å¼äº¤æ˜“</li></ul><h2>å¸¸è§å®½åŸºæŒ‡æ•°åŸºé‡‘</h2><table><thead><tr><th>åºå·</th><th>åç§°</th><th>æŒ‡æ•°ç®€ä»‹</th><th>è‚¡ç¥¨ä¸ªæ•°</th></tr></thead><tbody><tr><td>1</td><td>ä¸Šè¯50æŒ‡æ•°(000016)</td><td>æ˜¯ä»ä¸Šäº¤æ‰€æŒ‘é€‰çš„æ²ªå¸‚è§„æ¨¡æœ€å¤§ï¼ŒæµåŠ¨æ€§å¥½ï¼Œæœ€å…·ä»£è¡¨æ€§çš„50åªè‚¡ç¥¨ç»„æˆçš„æ ·æœ¬</td><td>50</td></tr><tr><td>2</td><td>æ²ªæ·±300æŒ‡æ•°(000300, 399300)</td><td>æ˜¯ä¸­è¯æŒ‡æ•°å…¬å¸å¼€å‘çš„ï¼Œä»ä¸Šäº¤æ‰€å’Œæ·±äº¤æ‰€æŒ‘é€‰çš„ï¼Œè§„æ¨¡æœ€å¤§ï¼ŒæµåŠ¨æ€§å¥½çš„300åªè‚¡ç¥¨</td><td>300</td></tr><tr><td>3</td><td>ä¸­è¯500æŒ‡æ•°(000905,399905)</td><td>æ˜¯ä¸­è¯æŒ‡æ•°å…¬å¸å¼€å‘çš„ï¼Œä»ä¸Šäº¤æ‰€å’Œæ·±äº¤æ‰€æŒ‘é€‰çš„ï¼Œæ’é™¤æ²ªæ·±300çš„ï¼Œå›½å†…ä¸­å‹å…¬å¸ä»£è¡¨</td><td>500</td></tr><tr><td>4</td><td>åˆ›ä¸šæ¿æŒ‡æ•°(399006)</td><td>åˆ›ä¸šæ¿æœ€ä¸»è¦100å®¶ä¼ä¸š</td><td>100</td></tr><tr><td>5</td><td>åˆ›ä¸šæ¿50æŒ‡æ•°(399673)</td><td>åˆ›ä¸šæ¿æœ€ä¸»è¦50å®¶ä¼ä¸š</td><td>50</td></tr><tr><td>6</td><td>ä¸Šè¯çº¢åˆ©æŒ‡æ•°(000015)</td><td>æœ€è€ç‰Œï¼Œå¤§ç›˜è‚¡ä¸ºä¸»ï¼Œä¸Šäº¤æ‰€è¿‡å»ä¸¤å¹´å¹³å‡ç°é‡‘è‚¡æ¯ç‡æœ€é«˜çš„50åªè‚¡ç¥¨</td><td>50</td></tr><tr><td>7</td><td>ä¸­è¯çº¢åˆ©æŒ‡æ•°(000922ï¼Œ399922)</td><td>ä»ä¸Šäº¤æ‰€å’Œæ·±äº¤æ‰€æŒ‘é€‰ï¼Œè¿‡å»ä¸¤å¹´å¹³å‡ç°é‡‘è‚¡æ¯ç‡æœ€é«˜çš„100åªè‚¡ç¥¨</td><td>100</td></tr><tr><td>8</td><td>æ·±è¯çº¢åˆ©æŒ‡æ•°(399324)</td><td>æ·±äº¤æ‰€è¿‡å»ä¸¤å¹´å¹³å‡ç°é‡‘è‚¡æ¯ç‡æœ€é«˜çš„40åªè‚¡ç¥¨</td><td>40</td></tr><tr><td>9</td><td>çº¢åˆ©æœºä¼šæŒ‡æ•°(CSPSADRP)</td><td>æ ‡æ™®å…¬å¸å›´ç»•Aè‚¡å¼€å‘çš„çº¢åˆ©æŒ‡æ•°ï¼ŒæŒ‘é€‰æ›´ä¸¥æ ¼</td><td>100</td></tr></tbody></table><blockquote><h3>æŒ‡æ•°åŸºé‡‘çš„æŒ‘é€‰</h3><ul><li>è§„æ¨¡æ¯”è¾ƒå¤§ï¼Œå†å²æ¯”è¾ƒé•¿ï¼Œè¿½è¸ªæ•ˆæœå¥½</li><li>è¦é¿å¼€è§„æ¨¡è¾ƒå°çš„æŒ‡æ•°åŸºé‡‘ï¼Œæœ‰äºæœ¬æ¸…ç›˜é£é™©ï¼Œæœ€å¥½è§„æ¨¡åœ¨1äº¿ä»¥ä¸Š</li><li>å¯»æ‰¾è´¹ç”¨æœ€ä½ï¼Œè¯¯å·®æœ€å°çš„å“ç§</li><li>å¦ä¸€ç§æ€è·¯æ˜¯é€‰æ‹©æœ‰ç‰¹è‰²çš„å¢å¼ºå‹æŒ‡æ•°åŸºé‡‘ï¼Œå¤åˆ¶æŒ‡æ•°çš„åŸºç¡€ä¸Šï¼Œå¯»æ‰¾çŸ­æœŸæœºä¼šï¼Œæœ‰é£é™©ï¼Œå¯èƒ½å·®äºæ™®é€šçš„æŒ‡æ•°åŸºé‡‘</li></ul></blockquote><blockquote><h3>Aè‚¡ä¸Šäº¤æ‰€å¤§ç›˜è‚¡å†å²èµ°åŠ¿ç‰¹ç‚¹</h3><ul><li>æ€»ä½“èµ°åŠ¿æ˜¯ä¸Šæ¶¨çš„</li><li>ä»03å¹´åº•ä»¥æ¥ï¼Œåªæœ‰07ï¼Œ09ï¼Œ15ä¸‰ä¸ªæ˜æ˜¾ç‰›å¸‚ï¼Œå…¶ä½™èµ°å¹³æˆ–é˜´è·Œ</li><li>Aè‚¡ç»å¸¸æš´æ¶¨æˆ–æš´è·Œï¼ŒæŒ‡æ•°åŸºé‡‘ä¹Ÿå¸¦æœ‰è¿™ä¸ªç‰¹å¾ï¼Œéœ€è¦æ³¨æ„</li></ul></blockquote><blockquote><h3>ä¸Šè¯50æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>å¤§ç›˜è‚¡ä¸ºä¸»ï¼Œè§„æ¨¡æœ€å°ä¹Ÿæœ‰350å¤šäº¿ï¼Œéƒ½æ˜¯å…³ç³»å›½è®¡æ°‘ç”Ÿçš„å¤§å…¬å¸ï¼Œè¿™äº›å¤§å…¬å¸è‚¡ç¥¨ä¹Ÿå«<strong>è“ç­¹è‚¡</strong>ï¼Œä¸Šè¯50å¹¶ä¸æ˜¯æŠ•èµ„å¸‚åœºçš„æ•´ä½“æŒ‡æ•°ï¼Œæ›´å¤šçš„æ˜¯<strong>æŠ•èµ„å¤§ç›˜è‚¡</strong></li><li>åªæœ‰ä¸Šäº¤æ‰€è‚¡ç¥¨ï¼Œæ²¡æœ‰æ·±äº¤æ‰€è‚¡ç¥¨ï¼Œæ²¡æ³•ååº”å›½å†…è‚¡ç¥¨çš„æ•´ä½“èµ°åŠ¿</li></ul></blockquote><blockquote><h3>æ²ªæ·±300æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>å å›½å†…è‚¡å¸‚å…¨éƒ¨è§„æ¨¡çš„60%ä»¥ä¸Š</li><li>ä»¥å¤§ç›˜è‚¡ä¸ºä¸»ï¼Œå…¼é¡¾ä¸Šæµ·å’Œæ·±åœ³ä¸Šå¸‚å…¬å¸</li><li>ä¸Šè¯50åŒ…å«åœ¨æ²ªæ·±300ä¸­ï¼Œæ‰€ä»¥ä¸¤ä¸ªæŒ‡æ•°å¾ˆå¤šæ—¶å€™è¡¨ç°ä¹Ÿæ¯”è¾ƒé‡åˆ</li></ul></blockquote><blockquote><h3>ä¸­è¯500æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>ä»¥ä¸­å‹ä¸Šå¸‚å…¬å¸ä¸ºä¸»ï¼Œå…¼é¡¾ä¸Šæµ·å’Œæ·±åœ³ä¸Šå¸‚å…¬å¸</li><li>ä¸æ²ªæ·±300æ— é‡åˆ</li></ul></blockquote><blockquote><h3>åˆ›ä¸šæ¿æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>åˆ›ä¸šæ¿ç›¸å…³çš„æŒ‡æ•°æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯åˆ›ä¸šæ¿ç»¼æŒ‡ï¼ˆè¡¡é‡åˆ›ä¸šæ¿æ‰€æœ‰ä¸Šå¸‚å…¬å¸è‚¡ä»·å¹³å‡è¡¨ç°ï¼‰ï¼Œä¸€ä¸ªæ˜¯åˆ›ä¸šæ¿æŒ‡æ•°ï¼ˆæœ€ä¸»è¦çš„100å®¶åˆ›ä¸šæ¿ä¸Šå¸‚å…¬å¸ï¼‰</li><li>åˆ›ä¸šæ¿50æŒ‡æ•°ï¼Œç›¸å½“äºåˆ›ä¸šæ¿çš„â€˜ä¸Šè¯50â€™</li><li>å…¬å¸è§„æ¨¡å°ï¼Œä»¥å°ä¸­å…¬å¸ä¸ºä¸»ï¼Œæ›´å®¹æ˜“æš´æ¶¨æš´è·Œ</li></ul></blockquote><blockquote><h3>çº¢åˆ©æŒ‡æ•°ç‰¹ç‚¹</h3><ul><li>å‰é¢ä»‹ç»çš„éƒ½æ˜¯æŒ‰ç…§å¸‚å€¼æ¥åŠ æƒçš„ï¼Œå³è‚¡ç¥¨è§„æ¨¡è¶Šå¤§ï¼Œæƒé‡è¶Šé«˜</li><li>çº¢åˆ©æŒ‡æ•°æ˜¯æŒ‰ç…§è‚¡æ¯ç‡æ¥åŠ æƒçš„</li><li>é«˜è‚¡æ¯ç‡ï¼Œåœ¨ç†Šå¸‚æ›´æœ‰ä¼˜åŠ¿ï¼Œç†Šå¸‚åˆ†åˆ°çš„100ä¸‡èƒ½ä¹°åˆ°æ›´å¤šç‰›å¸‚åˆ†åˆ°100ä¸‡çš„è‚¡ç¥¨ä»½é¢</li><li>èƒ½é•¿æœŸå‘æ”¾ç°é‡‘è‚¡æ¯çš„å…¬å¸ï¼Œç›ˆåˆ©èƒ½åŠ›è´¢åŠ¡çŠ¶å†µæ›´å¥½</li></ul></blockquote>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[How to use Storybook 2]]></title>
        <id>storybook-usage2</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/storybook-usage2"/>
        <updated>2022-01-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- è¿™ç¯‡blogæ˜¯storybookçš„å…¥é—¨æ•™ç¨‹å¹¶ä¸”åŒ…å«äº†æˆ‘ä½¿ç”¨storybook 3å¹´å¤šçš„ä¸€äº›ä½“éªŒ]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>è¿™ç¯‡blogæ˜¯storybookçš„å…¥é—¨æ•™ç¨‹å¹¶ä¸”åŒ…å«äº†æˆ‘ä½¿ç”¨storybook 3å¹´å¤šçš„ä¸€äº›ä½“éªŒ </li><li>åªé’ˆå¯¹Reacté¡¹ç›®</li><li>è¿›ä¸€æ­¥å­¦ä¹ ï¼Œè¯·è®¿é—®<a href="https://storybook.js.org/">Storybookå®˜ç½‘</a>
:::</li></ul><p><a href="https://storybook.js.org/">Storybook</a> is an open source tool for building UI components and pages in isolation. It streamlines UI development, testing, and documentation.</p><p>ä»Storybookçš„å®˜æ–¹æè¿°æ¥çœ‹ï¼Œä»–æ˜¯ç”¨äºå¿«é€Ÿæ„å»ºUI demoçš„å·¥å…·ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¿«é€Ÿæ„å»ºé¡µé¢ï¼›å¹¶ä¸”æœ‰å¾ˆå¥½çš„è¯­æ³•åŠŸèƒ½ï¼Œè½»æ¾ä¹¦å†™demoï¼›è¿˜æœ‰å¾ˆå¥½çš„è¾…åŠ©æ’ä»¶ï¼Œ
æ¯”å¦‚demoçš„æ–‡æ¡£è¾…åŠ©ï¼Œå‚æ•°è¾…åŠ©ï¼Œè¿˜æœ‰accessibilityè¾…åŠ©æµ‹è¯•ç­‰ç­‰ã€‚è¿™ä¸€åˆ‡å‡ ä¹ä¿ƒä½¿å®ƒæˆä¸ºäº†é¡¹ç›®demoçš„æœ€å¥½é€‰æ‹©ã€‚å› ä¸ºæˆ‘çš„é¡¹ç›®æ¶‰åŠåˆ°ç»„ä»¶åº“çš„å¼€å‘ï¼Œ
æ‰€ä»¥storybookå°±æ›´æ˜¾å¾—åˆé€‚å’Œé‡è¦ã€‚</p><p>:::note</p><ul><li>version: v6.4.9(Currently) and <a href="https://github.com/storybookjs/storybook/releases">Latest</a>
:::</li></ul><p>Storybook ä»£ç åº“æ›´æ–°å¾ˆæ´»è·ƒï¼Œå‡ ä¹ä¸€å¹´ä¸€æ¬¡majorç‰ˆæœ¬çš„æ›´æ–°ï¼Œæ€»ä¼šå¸¦æ¥äº›æ–°çš„åŠŸèƒ½ï¼Œè¿™ç¯‡blogæˆ‘ä»¬é‚£ç›®å‰æœ€æ–°ç‰ˆæœ¬v6.4.9 ä¸ºä¾‹è¿›è¡Œè¯´æ˜</p><h2>4. Configure</h2><p>Storybook is configured via a folder called .storybook, which contains various configuration files.</p><p>Storybooké…ç½®æ–‡ä»¶ä¸€èˆ¬æ˜¯æ”¾åœ¨.storybookçš„æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œé€šè¿‡-cä¹Ÿå¯ä»¥è¿›è¡Œè·¯å¾„é…ç½®ã€‚ä¸»è¦åŒ…å«å¦‚ä¸‹ä¸‰ä¸ªæ–‡ä»¶ï¼šmain.js preview.js and manager.js
<a href="https://storybook.js.org/docs/react/configure/overview">Detials</a></p><h3>4-1. main.js</h3><p>The main configuration file is main.js.</p><p>:::note</p><ul><li>This file controls the Storybook server&#x27;s behavior, so you must restart Storybookâ€™s process when you change it.
:::</li></ul><p>The main.js configuration file is a preset and, as such, has a powerful interface, but the key fields within it are:</p><ul><li>stories: ä¸»è¦æ˜¯é…ç½®storie casesçš„è·¯å¾„ï¼Œé»˜è®¤æ˜¯æ–‡ä»¶åä¸­å¸¦æœ‰ stories çš„æ–‡ä»¶ï¼Œæ–‡ä»¶è·¯å¾„ï¼Œæ–‡ä»¶åè§„åˆ™ï¼Œæ–‡ä»¶åç¼€éƒ½æ˜¯å¯é…ç½®çš„ã€‚</li><li>addons - é…ç½®ä¸€ä¸‹é¡µé¢ä¸­éœ€è¦ç”¨åˆ°çš„addons.</li><li>webpackFinal - è‡ªå®šä¹‰çš„ webpack configuration.</li><li>babel - è‡ªå®šä¹‰çš„ babel configuration.</li></ul><pre><code class="language-jsx">// .storybook/main.js

module.exports = {
  stories: [&#x27;../packages/MyStories&#x27;],
  addons: [&#x27;@storybook/addon-essentials&#x27;],
  webpackFinal: async (config, { configType }) =&gt; {
    config.module.rules.push({
      test: /\.scss$/,
      use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;, &#x27;sass-loader&#x27;],
      include: path.resolve(__dirname, &#x27;../&#x27;),
    });

    return config;
  },
    babel: async (options) =&gt; ({
    ...options,
    // any extra options you want to set
  })
};

</code></pre><h4>On-demand story loadingï¼š</h4><p>æŒ‰éœ€åŠ è½½storiesï¼Œè¿›è¡Œæ€§èƒ½æå‡ï¼Œ<strong>Starting with Storybook 6.4</strong>, you can optimize your story loading by enabling the storyStoreV7 feature flag in your configuration as follows:</p><pre><code class="language-jsx">// .storybook/main.js

module.exports = {
  stories: [],
  addons: [&#x27;@storybook/addon-essentials&#x27;],
  features: {
    storyStoreV7: true,
  },
};

</code></pre><h3>4-2. preview.js</h3><p>To control the way stories are rendered and add global decorators and parameters</p><ul><li>This is loaded in the Canvas tab</li><li>Use preview.js for global code that applies to all stories.</li></ul><p>The preview.js file can be an ES module and export the following keys:</p><ul><li>decoratorsï¼šåŒ…å«é¡µé¢ç»“æ„å’Œå…¨å±€æ ·å¼ï¼Œéƒ½å¯ä»¥åœ¨decoratorsä¸­å®šä¹‰</li><li>parametersï¼šä¸€èˆ¬å¯ä»¥é…ç½®å…¨å±€çš„docså’Œactionï¼Œbackground</li><li>globalTypes: </li></ul><pre><code class="language-jsx">// .storybook/preview.js

// createGlobalStyle from styled-component
import GlobalStyles from &#x27;./GlobalStyles&#x27;;

export const decorators = [
  (Story) =&gt; (
    &lt;GlobalStyles /&gt;
    &lt;div style={{ margin: &#x27;3em&#x27; }}&gt;
      &lt;Story /&gt;
    &lt;/div&gt;
  ),
];

export const parameters = {
  backgrounds: {
    values: [
      { name: &#x27;red&#x27;, value: &#x27;#f00&#x27; },
      { name: &#x27;green&#x27;, value: &#x27;#0f0&#x27; },
    ],
  },
};

export const globalTypes = {
  theme: {
    name: &#x27;Theme&#x27;,
    description: &#x27;Global theme for components&#x27;,
    defaultValue: &#x27;light&#x27;,
    toolbar: {
      icon: &#x27;circlehollow&#x27;,
      // Array of plain string values or MenuItem shape (see below)
      items: [&#x27;light&#x27;, &#x27;dark&#x27;],
      // Property that specifies if the name of the item will be displayed
      showName: true,
    },
  },
};

</code></pre><h3>4-3. manager.js</h3><p>To control the layout of Storybookâ€™s UI you can use addons.setConfig in your .storybook/manager.js:</p><pre><code class="language-jsx">// .storybook/manager.js

import { addons } from &#x27;@storybook/addons&#x27;;

addons.setConfig({
  isFullscreen: false,
  showNav: true,
  showPanel: true,
  panelPosition: &#x27;bottom&#x27;,
  enableShortcuts: true,
  isToolshown: true,
  theme: undefined,
  selectedPanel: undefined,
  initialActive: &#x27;sidebar&#x27;,
  sidebar: {
    showRoots: false,
    collapsedRoots: [&#x27;other&#x27;],
  },
  toolbar: {
    title: { hidden: false, },
    zoom: { hidden: false, },
    eject: { hidden: false, },
    copy: { hidden: false, },
    fullscreen: { hidden: false, },
  },
});

</code></pre><h2>5. Essential addons and Addons</h2><p>Storybookåœ¨å‘å±•çš„è¿‡ç¨‹ä¸­ï¼Œä¼šå¸æ”¶ä¸€äº›å¸¸ç”¨çš„addonï¼Œä½œä¸ºæ¡†æ¶é¢„åˆ¶çš„addonï¼Œè¿™ä¸ªå°±æ˜¯Essential addons and Addonsçš„åŒºåˆ«ã€‚
ä½ç‰ˆæœ¬çš„control å®é™…ä¸Šæ˜¯ä¸€ä¸ª@storybook/addon-knobsï¼Œåœ¨V6ç‰ˆæœ¬å¯ä»¥å†…ç½®ç”Ÿæˆäº†ã€‚ä½†æ˜¯è¿™ä¸ªæ’ä»¶æœ¬èº«ç›®å‰æ˜¯å‘ä¸‹å…¼å®¹çš„</p><h3>5-1. Essential addons</h3><p>If you&#x27;re upgrading from a previous Storybook version, you&#x27;ll need to run the following command in your terminal:</p><pre><code class="language-jsx">#With npm
npm install -D @storybook/addon-essentials

#With yarn
yarn add -D @storybook/addon-essentials

// .storybook/main.js

module.exports = {
  addons: [&#x27;@storybook/addon-essentials&#x27;],
};

</code></pre><p>There are many third-party addons as well as â€œofficialâ€ addons developed by the Storybook core team.ã€
<a href="https://storybook.js.org/docs/react/essentials/introduction">Detials</a></p><ul><li>Docs</li><li>Controls</li><li>Actions</li><li>Viewport</li><li>Backgrounds</li><li>Toolbars &amp; globals</li><li>Measure</li><li>Outline</li></ul><h3>5-2. Install 3rd party addons</h3><p>Storybook has <a href="https://storybook.js.org/addons">hundreds of reusable addons</a> that are packaged as NPM modules.</p><h4>Using addons</h4><p><a href="https://storybook.js.org/docs/react/addons/install-addons#using-addons">Detials</a></p><pre><code class="language-jsx">
yarn add -D @storybook/addon-a11y

// .storybook/main.js

module.exports = {
  stories: [],
  addons: [
    // Other Storybook addons
    &#x27;@storybook/addon-a11y&#x27;, //ğŸ‘ˆ The addon registered here
  ],
};

</code></pre><img src="https://storybook.js.org/5c457fbc275d0c3e2a37aae388a6019f/storybook-addon-installed-registered.png" alt="Storybook addon" style="width:100%"/><h3>5-3. è‡ªå®šä¹‰addons</h3><p>Now letâ€™s add a panel to Storybook. Inside the src directory, create a new file called register.js and add the following:
<a href="https://storybook.js.org/docs/react/addons/writing-addons#add-a-panel">Detials</a></p><pre><code class="language-jsx">// /my-addon/src/register.js

import React from &#x27;react&#x27;;

import { addons, types } from &#x27;@storybook/addons&#x27;;

import { AddonPanel } from &#x27;@storybook/components&#x27;;

const ADDON_ID = &#x27;myaddon&#x27;;
const PANEL_ID = `${ADDON_ID}/panel`;

// give a unique name for the panel
const MyPanel = () =&gt; &lt;div&gt;MyAddon&lt;/div&gt;;

addons.register(ADDON_ID, (api) =&gt; {
  addons.add(PANEL_ID, {
    type: types.PANEL,
    title: &#x27;My Addon&#x27;,
    render: ({ active, key }) =&gt; (
      &lt;AddonPanel active={active} key={key}&gt;
        &lt;MyPanel /&gt;
      &lt;/AddonPanel&gt;
    ),
  });
});
</code></pre><p>:::note</p><ul><li>register éœ€è¦åœ¨main.jsè¿›è¡Œæ³¨å†Œï¼ˆWhen you register a Storybook addon, it will look for either register.js or preset.js as the entry points.ï¼‰
:::</li></ul><img src="https://storybook.js.org/8a84ad965e96ef91ab0feb62f03b48b9/addon-initial-state.png" alt="Storybook addon" style="width:100%"/><h2>6. CLI options</h2><p>Storybook comes with two CLI utilities: start-storybook and build-storybook.
<a href="https://storybook.js.org/docs/react/api/cli-options">Detials</a></p>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[èµ„äº§ä¸æŒ‡æ•°]]></title>
        <id>funding-basic1</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/funding-basic1"/>
        <updated>2022-01-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚1ï¼Œ2]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>From ã€ŠæŒ‡æ•°åŸºé‡‘æŠ•èµ„æŒ‡å—ã€‹ç« èŠ‚1ï¼Œ2</li><li>å°ç™½å­¦ä¹ ï¼Œåˆ‡å‹¿ç›²ç›®è·Ÿä»
:::</li></ul><h2>èµ„äº§</h2><ul><li>èƒ½å¤Ÿä¸ºæˆ‘ä»¬â€ç”Ÿé’±â€œçš„å°±æ˜¯èµ„äº§ï¼Œ<strong>ç°é‡‘</strong>ä¸æ˜¯èµ„äº§</li><li>èµ„äº§åˆ†ä¸ºèƒ½å¤Ÿäº§ç”Ÿç°é‡‘æµçš„èµ„äº§å’Œä¸èƒ½äº§ç”Ÿç°é‡‘æµçš„èµ„äº§</li></ul><blockquote><p>æ¯”å¦‚é“¶è¡Œç†è´¢ä¸€ä¸ª5%ï¼Œä¸€ä¸ª3%ï¼Œå¦ä¸€ä¸ªæ˜¯å†œæ‘åˆä½œç¤¾çš„5%ï¼Œ è¿™äº›éƒ½æ˜¯å¯ä»¥äº§ç”Ÿç°é‡‘æµçš„èµ„äº§ï¼Œä»–çš„ä»·æ ¼å–å†³äºç°é‡‘æµçš„å¤§å°å’Œç¨³å®šæ€§ã€‚
é“¶è¡Œçš„ç¨³å®šæ€§é«˜äºå†œæ‘åˆä½œç¤¾ï¼Œ5%é«˜äº3%ï¼Œä½ å°±å¾ˆå®¹æ˜“çŸ¥é“å“ªä¸ªèµ„äº§æ›´ä¼˜è´¨</p></blockquote><blockquote><p>ä¸èƒ½äº§ç”Ÿç°é‡‘æµçš„èµ„äº§ï¼Œä»–çš„ä»·æ ¼ä¸»è¦å–å†³äºä¾›æ±‚å…³ç³»ï¼Œæ¯”å¦‚ä¹±ä¸–é»„é‡‘ï¼Œç‰¹æ®Šæ—¶æœŸä¸‹ä¾›éœ€å…³ç³»å‘ç”Ÿæ”¹å˜ï¼Œæ‰ä¼šæ›´å€¼é’±ã€‚</p></blockquote><blockquote><p>èƒ½äº§ç”Ÿç°é‡‘æµçš„èµ„äº§é€šå¸¸æ¯”ä¸èƒ½äº§ç”Ÿç°é‡‘æµçš„èµ„äº§ï¼Œ<strong>é•¿æœŸæ”¶ç›Šç‡æ›´é«˜</strong>ã€‚é»„é‡‘çš„é•¿æœŸæ”¶ç›Šç‡ç”šè‡³ä½äºå›½å€ºã€‚</p></blockquote><h2>æŒ‡æ•°</h2><ul><li>æŒ‡æ•°æ˜¯ä¸€ä¸ªé€‰è‚¡è§„åˆ™ï¼Œä»–çš„ç›®çš„æ˜¯æŒ‰ç…§æŸä¸ªè§„åˆ™æŒ‘é€‰å‡ºä¸€ç¯®å­è‚¡ç¥¨ï¼Œå¹¶ååº”è¿™ä¸€ç¯®å­è‚¡ç¥¨çš„<strong>å¹³å‡ä»·æ ¼èµ°åŠ¿</strong>ã€‚</li></ul><blockquote><p>ä¾‹å¦‚æ²ªæ·±300æŒ‡æ•°ï¼Œæ˜¯ç”±ä¸Šæµ·å’Œæ·±åœ³è¯åˆ¸å¸‚åœºä¸­é€‰å–300åªAè‚¡ä½œä¸ºæ ·æœ¬ç¼–åˆ¶è€Œæˆçš„æˆåˆ†è‚¡æŒ‡æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦çœ‹ä¸‹æ²ªæ·±300æŒ‡æ•°ï¼Œ
å°±å¯ä»¥çŸ¥é“å›½å†…æœ€å¤§çš„300åªè‚¡ç¥¨ï¼Œä»Šå¤©æ˜¯æ•´ä½“æ¶¨äº†è¿˜æ˜¯è·Œäº†ã€‚</p></blockquote><ul><li><p>æŒ‡æ•°ç‚¹æ•°ï¼Œæ˜¯æŒ‡æ•°èƒŒåå…¬å¸çš„å¹³å‡è‚¡ä»·ï¼Œè¿™ä¸ªç‚¹æ•°ä¸‹è·Œæˆ–ä¸Šæ¶¨ï¼Œä»£è¡¨æŒ‡æ•°èƒŒåå…¬å¸è‚¡ä»·çš„ä¸‹è·Œæˆ–ä¸Šæ¶¨ï¼Œé•¿æœŸæ¥çœ‹ï¼ŒæŒ‡æ•°ç‚¹æ•°æ˜¯<strong>ä¸æ–­ä¸Šæ¶¨çš„</strong></p></li><li><p>æŒ‡æ•°åŸºé‡‘å°±æ˜¯åŸºé‡‘å…¬å¸å¼€å‘ä¸€ä¸ªåŸºé‡‘äº§å“ã€‚ä¹Ÿæ˜¯å®Œå…¨æŒ‰ç…§æŒ‡æ•°çš„è§„åˆ™å»é€‰è‚¡ï¼Œå› ä¸ºæŒ‡æ•°åŸºé‡‘æŒæœ‰çš„è‚¡ç¥¨ç§ç±»ï¼Œæ•°é‡ï¼Œæ¯”ä¾‹éƒ½å’ŒæŒ‡æ•°éå¸¸æ¥è¿‘ï¼Œ
æ‰€ä»¥æŒ‡æ•°åŸºé‡‘çš„è¡¨ç°ä¹Ÿå’ŒæŒ‡æ•°ä¹Ÿéå¸¸æ¥è¿‘ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡æ•°åŸºé‡‘æŠŠæŒ‡æ•°çš„æŠ½è±¡æ¦‚å¿µå˜æˆäº†å®é™…çš„äº§å“ã€‚</p></li></ul><blockquote><p>æŒ‡æ•°åŸºé‡‘çš„ä¸‰ä¸ªç‰¹ç‚¹ï¼šé•¿ç”Ÿä¸è€ï¼Œäº§æœŸä¸Šæ¶¨ï¼Œæˆæœ¬ä½ã€‚</p></blockquote>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
    <entry>
        <title type="html"><![CDATA[How to use Storybook 1]]></title>
        <id>storybook-usage1</id>
        <link href=" https://777sunny777.github.io/metaTrip/metaTrip/build/blog/storybook-usage1"/>
        <updated>2022-01-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[- è¿™ç¯‡blogæ˜¯storybookçš„å…¥é—¨æ•™ç¨‹å¹¶ä¸”åŒ…å«äº†æˆ‘ä½¿ç”¨storybook 3å¹´å¤šçš„ä¸€äº›ä½“éªŒ]]></summary>
        <content type="html"><![CDATA[<p>:::tip</p><ul><li>è¿™ç¯‡blogæ˜¯storybookçš„å…¥é—¨æ•™ç¨‹å¹¶ä¸”åŒ…å«äº†æˆ‘ä½¿ç”¨storybook 3å¹´å¤šçš„ä¸€äº›ä½“éªŒ </li><li>åªé’ˆå¯¹Reacté¡¹ç›®</li><li>è¿›ä¸€æ­¥å­¦ä¹ ï¼Œè¯·è®¿é—®<a href="https://storybook.js.org/">Storybookå®˜ç½‘</a>
:::</li></ul><p><a href="https://storybook.js.org/">Storybook</a> is an open source tool for building UI components and pages in isolation. It streamlines UI development, testing, and documentation.</p><p>ä»Storybookçš„å®˜æ–¹æè¿°æ¥çœ‹ï¼Œä»–æ˜¯ç”¨äºå¿«é€Ÿæ„å»ºUI demoçš„å·¥å…·ï¼Œå¯ä»¥å¸®ç”¨æˆ·å¿«é€Ÿæ„å»ºé¡µé¢ï¼›å¹¶ä¸”æœ‰å¾ˆå¥½çš„è¯­æ³•åŠŸèƒ½ï¼Œè½»æ¾ä¹¦å†™demoï¼›è¿˜æœ‰å¾ˆå¥½çš„è¾…åŠ©æ’ä»¶ï¼Œ
æ¯”å¦‚demoçš„æ–‡æ¡£è¾…åŠ©ï¼Œå‚æ•°è¾…åŠ©ï¼Œè¿˜æœ‰accessibilityè¾…åŠ©æµ‹è¯•ç­‰ç­‰ã€‚è¿™ä¸€åˆ‡å‡ ä¹ä¿ƒä½¿å®ƒæˆä¸ºäº†é¡¹ç›®demoçš„æœ€å¥½é€‰æ‹©ã€‚å› ä¸ºæˆ‘çš„é¡¹ç›®æ¶‰åŠåˆ°ç»„ä»¶åº“çš„å¼€å‘ï¼Œ
æ‰€ä»¥storybookå°±æ›´æ˜¾å¾—åˆé€‚å’Œé‡è¦ã€‚</p><p>:::note</p><ul><li>version: v6.4.9(Currently) and <a href="https://github.com/storybookjs/storybook/releases">Latest</a>
:::</li></ul><p>Storybook ä»£ç åº“æ›´æ–°å¾ˆæ´»è·ƒï¼Œå‡ ä¹ä¸€å¹´ä¸€æ¬¡majorç‰ˆæœ¬çš„æ›´æ–°ï¼Œæ€»ä¼šå¸¦æ¥äº›æ–°çš„åŠŸèƒ½ï¼Œè¿™ç¯‡blogæˆ‘ä»¬é‚£ç›®å‰æœ€æ–°ç‰ˆæœ¬v6.4.9 ä¸ºä¾‹è¿›è¡Œè¯´æ˜</p><h2>0. Storybooké¡µé¢å¸ƒå±€</h2><h3>Sidebar and Canvas</h3><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/f818682edbbcdf2c04093f633aa36761/example-browse-all-stories-optimized.mp4" type="video/mp4"/></video><h3>Shortcuts</h3><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/b398f68ed8889feed0a52f077510efcf/storybook-keyboard-shortcuts-optimized.mp4" type="video/mp4"/></video><h3>Toolbar</h3><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/8b083907d74e7f2b9a298e5f324cc751/toolbar-walkthrough-optimized.mp4" type="video/mp4"/></video><h3>Docs</h3><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/07234fedf00ba418879c443de0764c1c/toolbar-docs-tab-optimized.mp4" type="video/mp4"/></video><h3>Addons</h3><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/946b2f4bdb006e8475d21202d68b9eec/addons-walkthrough-optimized.mp4" type="video/mp4"/></video><h2>1. å®‰è£…</h2><p>Storybook çš„<a href="https://storybook.js.org/docs/react/get-started/install">å®‰è£…</a>å¾ˆæ™ºèƒ½ï¼Œnpx sb init å°±å¯ä»¥ç›´æ¥è¿›è¡Œå®‰è£…ï¼Œä½†æ˜¯è¦æ³¨æ„çš„æ˜¯å®‰è£…ä¹‹å‰ä½ å¿…é¡»å·²ç»æœ‰é¡¹ç›®æ¡†æ¶çš„ä¾èµ–ã€‚</p><p>:::note</p><ul><li>Storybook will look into your project&#x27;s dependencies during its install process and provide you with the best configuration available.</li><li>Storybookåªæ˜¯éœ€è¦é¡¹ç›®æ¡†æ¶ä¾èµ–ï¼Œæ¯”å¦‚reactå°±ç›¸å½“äºä¸€ä¸ªæ ‡è¯†ï¼Œä½ ä¸éœ€è¦å†™ä»»ä½•æ¡†æ¶ä»£ç åœ¨é¡¹ç›®ä¸­
:::</li></ul><h2>2. Write stories</h2><p>Storyå°±æ˜¯ä¸€ä¸ªdemo caseï¼Œstories fileå°±æ˜¯å­˜æ”¾ä¸€ç±»demo casesçš„é›†åˆï¼Œè¿™äº›casesæ ¹æ®titleåˆ†æˆä¸åŒçš„ç±»å‹</p><pre><code class="language-jsx">// è¿™ä¸ªä¸€ä¸ªå±•ç¤ºbuttonçš„stories file
// Button.stories.js|jsx

import React from &#x27;react&#x27;;

import { Button } from &#x27;./Button&#x27;;

export default {
  
  // titleæ˜¯è¿™ä¸ªé›†åˆçš„åç§°ï¼ŒåŒæ—¶ä¹Ÿç”¨äºstorybook å¯¼èˆªæ çš„ç»“æ„
  // æ¯”å¦‚å¯ä»¥æœ‰å±‚çº§å…³ç³»ï¼Œ&#x27;Button/Responsive&#x27;

  title: &#x27;Button&#x27;,
  
  // component å±æ€§å¯ä»¥ä¸å†™, åé¢è§£é‡Šæ–‡æ¡£çš„æ—¶å€™å†è¯¦ç»†è¯´
  // Storybook uses the component key in the story fileâ€™s default export to extract the component&#x27;s description and props.
  
  component: Button,
};

// è¿™é‡Œé€šè¿‡exportå¯¼å‡ºå°±ç”Ÿæˆäº†ä¸€ä¸ªdemo case page
// è·¯å¾„å°±æ˜¯å·¦ä¾§å¯¼èˆªæ ä¸­ Buttonä¸‹é¢çš„Primary

export const Primary = () =&gt; &lt;Button primary&gt;Button&lt;/Button&gt;;

// è¿™é‡Œå¯ä»¥æ”¹å˜caseçš„å‘½åï¼Œé»˜è®¤æ˜¯function name
Primary.storyName = &#x27;I am the primary&#x27;;

export const Secondary = () =&gt; &lt;Button backgroundColor=&quot;#ff0&quot; label=&quot;ğŸ˜„ğŸ‘ğŸ˜ğŸ’¯&quot; /&gt;;
export const Tertiary = () =&gt; &lt;Button backgroundColor=&quot;#ff0&quot; label=&quot;ğŸ“šğŸ“•ğŸ“ˆğŸ¤“&quot; /&gt;;

</code></pre><h3>2-1 Using args</h3><p>ä½¿ç”¨argsæ˜¯æœ€æ–°ç‰ˆæœ¬ä¸­storybook æ¯”è¾ƒå»ºè®®çš„å†™æ³•ï¼Œä¸»è¦çš„ä¼˜ç‚¹æ˜¯å‡å°‘é‡å¤ä»£ç ï¼Œç”¨æ³•ä¸Šä¹Ÿæ¯”è¾ƒæœ‰ç« å¯å¾ªï¼Œä¾¿äºç®¡ç†ã€‚
ä¸è¿‡æ ¹æ®æˆ‘çš„ç»éªŒè¿˜æ˜¯è¦çœ‹ä½ ç”¨storybookçš„targetæ˜¯ä»€ä¹ˆï¼Œå¦‚æœåªæ˜¯for show UI demoï¼Œä½¿ç”¨args çš„æ–¹å¼æ˜¯å¯è¡Œçš„ã€‚
ä½†æ˜¯æ¯”å¦‚åšç»„ä»¶åº“ï¼Œshow UI demoåªæ˜¯ä¸€ä¸ªæ–¹é¢ï¼Œshow demo code for users ä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡storybookçš„caseså¯ä»¥è®©ç”¨æˆ·
ç›´è§‚çš„æ˜ç™½demo è¦æ€ä¹ˆå†™ï¼Œç”šè‡³åªéœ€è¦ä»–copy/pasteå°±å¯ä»¥ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±éœ€è¦å°½é‡å°‘çš„ä½¿ç”¨storybookæä¾›çš„ä¸€äº›æ¥å£æ–¹æ³•ï¼Œå‡å°‘storybook
å¯¹ä½ çš„demo case code çš„å¹²æ‰°ã€‚</p><p>ä»»ä½•æ—¶å€™ï¼Œæˆ‘ä»¬éƒ½è¦æ˜ç™½ç”¨æˆ·å…³å¿ƒçš„æ˜¯ä»€ä¹ˆï¼Ÿè€Œä¸æ˜¯ç›²ç›®çš„æ±‚æ–°æ±‚å˜ã€‚</p><pre><code class="language-jsx">import React from &#x27;react&#x27;;
import { Button } from &#x27;./Button&#x27;;

export default {
  title: &#x27;Button&#x27;,
  component: Button,
};

//ğŸ‘‡ We create a â€œtemplateâ€ of how args map to rendering
const Template = (args) =&gt; &lt;Button {...args} /&gt;;

// ğŸ‘‡ Each story then reuses that template
export const Primary = Template.bind({});
Primary.args = { background: &#x27;#ff0&#x27;, label: &#x27;Button&#x27; };

export const Secondary = Template.bind({});
Secondary.args = { ...Primary.args, label: &#x27;ğŸ˜„ğŸ‘ğŸ˜ğŸ’¯&#x27; };

export const Tertiary = Template.bind({});
Tertiary.args = { ...Primary.args, label: &#x27;ğŸ“šğŸ“•ğŸ“ˆğŸ¤“&#x27; };
</code></pre><h3>2-2 Remix two stories</h3><p>Storyæ˜¯å¯ä»¥ç›¸äº’å¼•ç”¨çš„ï¼Œä¸»è¦ä¹Ÿæ˜¯ä¸ºäº†å‡å°‘é‡å¤ä»£ç ï¼Œä¿æŒä¸€è‡´æ€§ã€‚</p><pre><code class="language-jsx">import React from &#x27;react&#x27;;
import { Button } from &#x27;./Button&#x27;;
import * as TextInputStories from &#x27;./TextInput.stories&#x27;;

export default {
  title: &#x27;Button&#x27;,
  component: Button,
};

export const TestRemix = () =&gt; &lt;&gt;
  &lt;TextInputStories.Default /&gt;
  &lt;Button primary&gt;Button&lt;/Button&gt;
&lt;&gt;

</code></pre><h3>2-3 Controls</h3><p>é¦–å…ˆControlæ˜¯å¾ˆå¥½çš„åŠŸèƒ½ï¼Œå¯¹äºshow UI demo æ˜¯å¾ˆæ–¹ä¾¿ç›´è§‚çš„å±•ç¤ºï¼Œå¯¹äºV6ç‰ˆæœ¬ï¼ŒControl æ˜¯å†…ç½®æ’ä»¶ï¼Œåªéœ€è¦é€šè¿‡Templateå’Œargsé…åˆå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆ</p><p><a href="https://storybook.js.org/docs/react/essentials/controls">è¯¦ç»†å†™æ³•</a></p><p>åœ¨ä½ç‰ˆæœ¬ä¸­(V6ä»ç„¶æ”¯æŒaddonså†™æ³•)ï¼Œæ˜¯é€šè¿‡å®‰è£…addon-knobsæ’ä»¶æ¥å®ç°çš„ã€‚ </p><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/9d2e1f29cfb010e3aae6cd76547c4bab/addon-controls-optimized.mp4" type="video/mp4"/></video><p>æ ¹æ®æˆ‘çš„ç»éªŒï¼Œå’Œusing args ä¸€æ ·ï¼Œä½¿ç”¨è¿˜æ˜¯ä¸ä½¿ç”¨éœ€è¦æ ¹æ®é¡¹ç›®éœ€æ±‚ï¼Œæˆ–è€…å¯»æ‰¾æŠ˜ä¸­çš„æ–¹æ³•è€Œä¸¤è€…å…¼é¡¾ã€‚</p><h3>2-4 Action</h3><p>æˆ‘ç›®å‰è¿˜æ²¡æœ‰æ‰¾åˆ°Actionçš„åˆé€‚åœºæ™¯ã€‚å®ƒå’ŒControlä¸€æ ·çš„ï¼Œåœ¨V6ç‰ˆæœ¬ä¸­æ˜¯å†…ç½®æ’ä»¶ï¼Œéœ€è¦argTypesæ¥å®šä¹‰ï¼Œæ–°ç‰ˆæœ¬V6ä¸­éœ€è¦å†™æˆtemplateå½¢å¼æ‰èƒ½è§¦å‘ã€‚</p><video controls="" autoplay="" loop="" style="width:100%"><source src="https://storybook.js.org/b0366940cf7195b6d5b646c6105c217c/addon-actions-optimized.mp4" type="video/mp4"/></video><pre><code class="language-jsx">import { Button } from &#x27;./Button&#x27;;

export default {
  title: &#x27;Button&#x27;,
  component: Button,
  argTypes: { onClick: { action: &#x27;clicked&#x27; } },
};

</code></pre><pre><code class="language-jsx">// .storybook/preview.js

export const parameters = {
  actions: { argTypesRegex: &#x27;^on.*&#x27; }
}

</code></pre><h3>2-5 Using parameters</h3><p>Parameters are Storybookâ€™s method of defining static metadata for stories.
A storyâ€™s parameters can be used to provide configuration to various addons at the level of a story or group of stories.</p><p>Parametersä¸»è¦æ˜¯ä¸ºstoriesåšä¸€äº›é¡µé¢é…ç½®, ä¹Ÿå¯ä»¥åœ¨previewä¸­è¿›è¡Œglobalçš„é…ç½®</p><pre><code class="language-jsx">  parameters: {
    docs: { page: null },
    actions: { argTypesRegex: &#x27;^on.*&#x27; },
    centered: { disable: true },
    backgrounds: {
      values: [
        { name: &#x27;red&#x27;, value: &#x27;#f00&#x27; },
        { name: &#x27;green&#x27;, value: &#x27;#0f0&#x27; },
        { name: &#x27;blue&#x27;, value: &#x27;#00f&#x27; },
      ],
    },
  },
</code></pre><h3>2-6 Using decorators</h3><p>Decorators are a mechanism to wrap a component in arbitrary markup when rendering a story.
Components are often created with assumptions about â€˜whereâ€™ they render.
Your styles might expect a theme or layout wrapper, or your UI might expect specific context or data providers.</p><p>decoratorså°±æ˜¯é¡µé¢è£…é¥°ï¼Œå¯ä»¥æœ‰æœºä¼šç»™é¡µé¢åšä¸€äº›domç»“æ„æˆ–è€…æ ·å¼çš„è°ƒæ•´</p><pre><code class="language-jsx">import React from &#x27;react&#x27;;
import { Button } from &#x27;./Button&#x27;;

export default {
  title: &#x27;Button&#x27;,
  component: Button,
  decorators: [
    (Story) =&gt; (
      &lt;div style={{ margin: &#x27;3em&#x27; }}&gt;
        &lt;Story /&gt;
      &lt;/div&gt;
    ),
  ],
};
</code></pre><h2>3. Write Docs</h2><p>Storybook ç›®å‰ä¸»è¦æä¾›äº†ä¸‰ç§æ–¹å¼ç”¨äºæ–‡æ¡£çš„ä¹¦å†™</p><h3>3-1 åˆ©ç”¨component parameters</h3><h4>ä¼˜ç‚¹ï¼š</h4><ul><li>å¯ä»¥è‡ªåŠ¨è§£æç»„ä»¶ä¸­çš„props</li></ul><h4>ç¼ºç‚¹ï¼š</h4><ul><li>interfaceçš„formatè¦ä¸¥æ ¼</li><li>docsä¸­ä¸èƒ½è‡ªå®šä¹‰ï¼Œæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„</li></ul><pre><code class="language-jsx">// ButtonGroup.stories.js|jsx
import React from &#x27;react&#x27;;
import { Button, ButtonGroup } from &#x27;./ButtonGroup&#x27;;

export default {
  title: &#x27;ButtonGroup&#x27;,
  // storybook use the component/subcomponents to extract the component&#x27;s description and props
  // override the docs.page parameters with null to remove its content
  component: ButtonGroup,
  subcomponents: { Button },
};
</code></pre><h3>3-2 mdx</h3><p>:::note</p><ul><li>Currently there&#x27;s an issue when using MDX stories with IE11. This issue does not apply to Docs page
:::</li></ul><p>MDX æ˜¯éå¸¸å¥½çš„ä¹¦å†™docsçš„æ–¹å¼ï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸éœ€è¦å…¼å®¹IE11ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ ç”¨mdxçš„æ–¹å¼æ¥å†™caseçš„æ–‡æ¡£ã€‚</p><h4>ä¼˜ç‚¹ï¼š</h4><ul><li>å¯ä»¥å°†mdå’ŒJSXæ··åˆä¹¦å†™ï¼Œéå¸¸çµæ´»</li></ul><h4>ç¼ºç‚¹ï¼š</h4><ul><li>ä¸æ”¯æŒIE11</li></ul><p><a href="https://storybook.js.org/docs/react/writing-docs/mdx">è¯¦ç»†</a></p><p>MDX is a standard file format that combines Markdown with JSX.
It means you can use Markdownâ€™s terse syntax (such as # heading) for your documentation,
write stories that compile to our component story format, and freely embed JSX component blocks at any point in the file. All at once.</p><h3>3-3 åˆ©ç”¨docs parameters</h3><p>å› ä¸ºIE11è€Œç”¨ä¸äº†mdxï¼Œå¯ä»¥å°è¯•ç”¨jsxç»„ä»¶é…ç½®åˆ°docs.pageçš„æ–¹å¼è¿›è¡Œdocsçš„ä¹¦å†™ã€‚ä¸ªäººè®¤ä¸ºï¼Œå¦‚æœä½ çš„é¡¹ç›®æ”¯æŒIE11ï¼Œè€Œä¸”ä½ è¿˜å¸Œæœ›è‡ªå®šä¹‰docså†…å®¹ï¼Œ
ç”¨è¿™ç§æ–¹å¼æ˜¯æœ€å¥½é€‰æ‹©</p><h4>ä¼˜ç‚¹ï¼š</h4><ul><li>å¯ä»¥å†™JSXï¼Œè‡ªå®šä¹‰docsé¡µé¢å¸ƒå±€æ ·å¼</li><li>æ”¯æŒIE11</li></ul><h4>ç¼ºç‚¹ï¼š</h4><ul><li>ä¸èƒ½ç”¨md</li></ul><pre><code class="language-jsx">// ButtonGroup.stories.js|jsx
import React from &#x27;react&#x27;;
import { Button, ButtonGroup } from &#x27;./ButtonGroup&#x27;;
import { customDocumentComponemt } from &#x27;./customDocumentComponemt&#x27;; //jsx file

export default {
  title: &#x27;ButtonGroup&#x27;,
  component: ButtonGroup,
  parameters: {
    docs: {
      page: customDocumentComponemt
    }
  }
};
</code></pre>]]></content>
        <author>
            <name>Sheldon Y Sun</name>
            <uri>https://github.com/777sunny777</uri>
        </author>
    </entry>
</feed>